Index: app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Layout;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.net.Uri;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.binus.pekalongancityguide.R;\r\nimport com.binus.pekalongancityguide.databinding.ActivityAddDestinationBinding;\r\nimport com.bumptech.glide.Glide;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.libraries.places.api.Places;\r\nimport com.google.android.libraries.places.api.model.AutocompleteSessionToken;\r\nimport com.google.android.libraries.places.api.model.OpeningHours;\r\nimport com.google.android.libraries.places.api.model.PhotoMetadata;\r\nimport com.google.android.libraries.places.api.model.Place;\r\nimport com.google.android.libraries.places.api.model.TypeFilter;\r\nimport com.google.android.libraries.places.api.net.FetchPhotoRequest;\r\nimport com.google.android.libraries.places.api.net.FetchPlaceRequest;\r\nimport com.google.android.libraries.places.api.net.FindAutocompletePredictionsRequest;\r\nimport com.google.android.libraries.places.api.net.FindAutocompletePredictionsResponse;\r\nimport com.google.android.libraries.places.api.net.PlacesClient;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\nimport static com.binus.pekalongancityguide.BuildConfig.MAPS_API_KEY;\r\n\r\npublic class AddDestination extends AppCompatActivity {\r\n    public static final String TAG = \"ADD_IMAGE_TAG\";\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n    private static final String SEARCH_ENGINE_ID = \"b0bfb36873e2d440d\";\r\n    PlacesClient placesClient;\r\n    ArrayList<String> categoriesTitleArrayList, categoryIdArrayList;\r\n    private ActivityAddDestinationBinding binding;\r\n    private FirebaseAuth firebaseAuth;\r\n    private Uri imageUri;\r\n    private ProgressDialog progressDialog;\r\n    private String title = \"\";\r\n    private String desc = \"\";\r\n    private String selectedCategoryId, selectedCategoryTitle;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Places.initialize(getApplicationContext(), MAPS_API_KEY);\r\n        binding = ActivityAddDestinationBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        loadCategory();\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.setTitle(\"Please wait\");\r\n        progressDialog.setCanceledOnTouchOutside(false);\r\n\r\n        binding.backtoAdmin.setOnClickListener(v -> onBackPressed());\r\n        binding.addPicture.setOnClickListener(v -> addPhoto());\r\n        binding.categoryPick.setOnClickListener(v -> showCategoryDialog());\r\n        binding.addBtn.setOnClickListener(v -> {\r\n            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(binding.getRoot().getWindowToken(), 0);\r\n            validateData();\r\n        });\r\n\r\n    }\r\n\r\n    private void validateData() {\r\n        Log.d(TAG, \"validate data : validating data \");\r\n        title = binding.titleEt.getText().toString().trim();\r\n        desc = binding.descEt.getText().toString().trim();\r\n        FindAutocompletePredictionsRequest request;\r\n        if (TextUtils.isEmpty(title)) {\r\n            binding.titleEt.setError(\"Enter destination title!\");\r\n        } else if (TextUtils.isEmpty(selectedCategoryTitle)) {\r\n            binding.categoryPick.setError(\"Pick a category!\");\r\n        } else {\r\n            placesClient = Places.createClient(this);\r\n            List<Place.Field> placeFields = Arrays.asList(\r\n                    Place.Field.ID,\r\n                    Place.Field.NAME,\r\n                    Place.Field.ADDRESS,\r\n                    Place.Field.LAT_LNG,\r\n                    Place.Field.RATING,\r\n                    Place.Field.OPENING_HOURS,\r\n                    Place.Field.PHONE_NUMBER,\r\n                    Place.Field.PHOTO_METADATAS,\r\n                    Place.Field.TYPES);\r\n            AutocompleteSessionToken token = AutocompleteSessionToken.newInstance();\r\n            request = FindAutocompletePredictionsRequest.builder()\r\n                    .setTypeFilter(TypeFilter.ESTABLISHMENT)\r\n                    .setSessionToken(token)\r\n                    .setQuery(title)\r\n                    .build();\r\n            Task<FindAutocompletePredictionsResponse> task = placesClient.findAutocompletePredictions(request);\r\n            task.addOnSuccessListener(response -> {\r\n                if (!response.getAutocompletePredictions().isEmpty()) {\r\n                    String placeId = response.getAutocompletePredictions().get(0).getPlaceId();\r\n                    Log.d(TAG, \"Place ID: \" + placeId);\r\n                    String url = \"https://maps.googleapis.com/maps/api/place/details/json?placeid=\" + placeId + \"&key=\" + MAPS_API_KEY;\r\n                    FetchPlaceRequest placeRequest = FetchPlaceRequest.builder(placeId, placeFields).build();\r\n                    placesClient.fetchPlace(placeRequest).addOnCompleteListener(task1 -> {\r\n                        if (task1.isSuccessful()) {\r\n                            Place place = task1.getResult().getPlace();\r\n                            String address = place.getAddress();\r\n                            String phoneNumber = place.getPhoneNumber();\r\n                            OpeningHours openingHours = place.getOpeningHours();\r\n                            double latitude = place.getLatLng().latitude;\r\n                            double longitude = place.getLatLng().longitude;\r\n                            double rating = place.getRating() != null ? place.getRating() : 0;\r\n                            Log.d(TAG, \"Address: \" + address);\r\n                            Log.d(TAG, \"Latitude: \" + latitude);\r\n                            Log.d(TAG, \"Longitude: \" + longitude);\r\n                            Log.d(TAG, \"Rating: \" + rating);\r\n                            Log.d(TAG, \"Phone number: \" + phoneNumber);\r\n                            if (TextUtils.isEmpty(desc)) {\r\n                                StringBuilder sb = new StringBuilder();\r\n                                for (Place.Type type : place.getTypes()) {\r\n                                    sb.append(type.name().replace(\"_\", \" \"));\r\n                                    sb.append(\", \");\r\n                                }\r\n                                desc = sb.toString().trim();\r\n                                if (desc.endsWith(\",\")) {\r\n                                    desc = desc.substring(0, desc.length() - 1);\r\n                                }\r\n                                Log.d(TAG, \"Description: \" + desc);\r\n                            }\r\n\r\n                            new GetReviewsTask() {\r\n                                @Override\r\n                                protected void onPostExecute(JSONArray reviews) {\r\n                                    if (reviews != null) {\r\n                                        Log.d(TAG, \"Reviews: \" + reviews);\r\n                                        if (openingHours != null) {\r\n                                            uploadtoStorage(placeId, address, latitude, longitude, rating, reviews, phoneNumber, openingHours.getWeekdayText(), place);\r\n                                        } else {\r\n                                            uploadtoStorage(placeId, address, latitude, longitude, rating, reviews, phoneNumber, null, place);\r\n                                        }\r\n                                    } else {\r\n                                        Toast.makeText(AddDestination.this, \"Error getting reviews\", Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            }.execute(url);\r\n                        } else {\r\n                            Toast.makeText(AddDestination.this, \"Error getting location details: \" + task1.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                } else {\r\n                    Toast.makeText(this, \"No location found for the given title\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            task.addOnFailureListener(e -> {\r\n                Log.e(TAG, \"Error getting place ID: \" + e.getMessage());\r\n                Toast.makeText(this, \"Error getting location from title: \" + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            });\r\n        }\r\n    }\r\n\r\n    private void uploadtoStorage(String placeId, String address, double lat, double lng, double rating, JSONArray reviews, String phoneNumber, List<String> weekday, Place place) {\r\n        Log.d(TAG, \"uploadtoStorage : uploading to storage\");\r\n        progressDialog.setMessage(\"Uploading image\");\r\n        progressDialog.show();\r\n        long timestamp = System.currentTimeMillis();\r\n        String filePathandName = \"Destination/\" + timestamp;\r\n        if (imageUri == null) {\r\n            List<PhotoMetadata> photoMetadataList = place.getPhotoMetadatas();\r\n            if (photoMetadataList != null && !photoMetadataList.isEmpty()) {\r\n                // If photo metadata is available, fetch the photo and set it as the image\r\n                PhotoMetadata photoMetadata = photoMetadataList.get(0);\r\n                FetchPhotoRequest photoRequest = FetchPhotoRequest.builder(photoMetadata)\r\n                        .setMaxWidth(500)\r\n                        .setMaxHeight(300)\r\n                        .build();\r\n                placesClient.fetchPhoto(photoRequest).addOnSuccessListener(fetchPhotoResponse -> {\r\n                    Bitmap bitmap = fetchPhotoResponse.getBitmap();\r\n                    if (bitmap != null) {\r\n                        try {\r\n                            imageUri = bitmapToUri(this, bitmap);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                        Log.d(TAG, \"image uri: \" + imageUri);\r\n                        Glide.with(AddDestination.this)\r\n                                .load(bitmap)\r\n                                .centerCrop()\r\n                                .into(binding.addPicture);\r\n                        StorageReference storageReference = FirebaseStorage.getInstance(\"gs://pekalongan-city-guide-5bf2e.appspot.com\").getReference(filePathandName);\r\n                        storageReference.putFile(imageUri)\r\n                                .addOnSuccessListener(taskSnapshot -> {\r\n                                    Log.d(TAG, \"on success : Image uploaded to Storage\");\r\n                                    Log.d(TAG, \"on success : getting image url\");\r\n                                    Task<Uri> uriTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                                    while (!uriTask.isSuccessful()) ;\r\n                                    String uploadedImageUrl = \"\" + uriTask.getResult();\r\n                                    uploadtoDB(uploadedImageUrl, timestamp, placeId, address, lat, lng, rating, reviews, phoneNumber, weekday);\r\n                                })\r\n                                .addOnFailureListener(e -> {\r\n                                    progressDialog.dismiss();\r\n                                    Log.d(TAG, \"on Failure : Image upload failed due to \" + e.getMessage());\r\n                                    Toast.makeText(AddDestination.this, \"Image upload failed due to \" + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                });\r\n                    } else {\r\n\r\n                    }\r\n                }).addOnFailureListener(exception -> {\r\n                    Log.e(TAG, \"Failed to fetch image, using default image\");\r\n                    imageUri = Uri.parse(\"android.resource://\" + getPackageName() + \"/\" + R.drawable.logo);\r\n                    Glide.with(AddDestination.this)\r\n                            .load(imageUri)\r\n                            .centerCrop()\r\n                            .into(binding.addPicture);\r\n                    if (exception instanceof ApiException) {\r\n                        ApiException apiException = (ApiException) exception;\r\n                        int statusCode = apiException.getStatusCode();\r\n                        Log.e(TAG, \"Place photo not found: \" + exception.getMessage());\r\n                    }\r\n                });\r\n            } else {\r\n                imageUri = Uri.parse(\"android.resource://\" + getPackageName() + \"/\" + R.drawable.logo);\r\n                Glide.with(AddDestination.this)\r\n                        .load(imageUri)\r\n                        .centerCrop()\r\n                        .into(binding.addPicture);\r\n            }\r\n        } else {\r\n            Glide.with(AddDestination.this)\r\n                    .load(imageUri)\r\n                    .centerCrop()\r\n                    .into(binding.addPicture);\r\n            StorageReference storageReference = FirebaseStorage.getInstance(\"gs://pekalongan-city-guide-5bf2e.appspot.com\").getReference(filePathandName);\r\n            storageReference.putFile(imageUri)\r\n                    .addOnSuccessListener(taskSnapshot -> {\r\n                        Log.d(TAG, \"on success : Image uploaded to Storage\");\r\n                        Log.d(TAG, \"on success : getting image url\");\r\n                        Task<Uri> uriTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                        while (!uriTask.isSuccessful()) ;\r\n                        String uploadedImageUrl = \"\" + uriTask.getResult();\r\n                        uploadtoDB(uploadedImageUrl, timestamp, placeId, address, lat, lng, rating, reviews, phoneNumber, weekday);\r\n                    })\r\n                    .addOnFailureListener(e -> {\r\n                        progressDialog.dismiss();\r\n                        Log.d(TAG, \"on Failure : Image upload failed due to \" + e.getMessage());\r\n                        Toast.makeText(AddDestination.this, \"Image upload failed due to \" + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    });\r\n        }\r\n    }\r\n\r\n    private void uploadtoDB(String uploadedImageUrl, long timestamp, String placeId, String address, double desLat, double desLong, double rating, JSONArray reviews, String phoneNumber, List<String> weekday) {\r\n        Log.d(TAG, \"uploadtoDB : uploading image to firebase DB\");\r\n        progressDialog.setMessage(\"Uploading image info\");\r\n        String uid = firebaseAuth.getUid();\r\n        HashMap<String, Object> hashMap = new HashMap<>();\r\n        hashMap.put(\"uid\", \"\" + uid);\r\n        hashMap.put(\"id\", \"\" + timestamp);\r\n        hashMap.put(\"title\", \"\" + title);\r\n        hashMap.put(\"description\", \"\" + desc);\r\n        hashMap.put(\"address\", \"\" + address);\r\n        hashMap.put(\"latitude\", \"\" + desLat);\r\n        hashMap.put(\"longitude\", \"\" + desLong);\r\n        hashMap.put(\"rating\", \"\" + rating);\r\n        hashMap.put(\"categoryId\", \"\" + selectedCategoryId);\r\n        hashMap.put(\"url\", \"\" + uploadedImageUrl);\r\n        hashMap.put(\"timestamp\", timestamp);\r\n        hashMap.put(\"placeId\", placeId);\r\n        hashMap.put(\"phoneNumber\", phoneNumber);\r\n\r\n        ArrayList<HashMap<String, Object>> reviewsList = new ArrayList<>();\r\n        for (int i = 0; i < reviews.length(); i++) {\r\n            try {\r\n                JSONObject review = reviews.getJSONObject(i);\r\n                HashMap<String, Object> reviewMap = new HashMap<>();\r\n                reviewMap.put(\"authorName\", review.getString(\"author_name\"));\r\n                reviewMap.put(\"rating\", review.getInt(\"rating\"));\r\n                reviewMap.put(\"text\", review.getString(\"text\"));\r\n                reviewsList.add(reviewMap);\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        hashMap.put(\"reviews\", reviewsList);\r\n        hashMap.put(\"openingHours\", weekday);\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\").getReference(\"Destination\");\r\n        reference.child(\"\" + timestamp)\r\n                .setValue(hashMap)\r\n                .addOnSuccessListener(aVoid -> {\r\n                    progressDialog.dismiss();\r\n                    Toast.makeText(getApplicationContext(), \"Image uploaded successfully\", Toast.LENGTH_LONG).show();\r\n                })\r\n                .addOnFailureListener(e -> {\r\n                    progressDialog.dismiss();\r\n                    Log.d(TAG, \"on Failure : \" + e.getMessage());\r\n                    Toast.makeText(AddDestination.this, \"Data upload failed due to \" + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                })\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        Log.d(TAG, \"uploadtoDB : Place ID successfully added to database\");\r\n                        getPlaceDetails(placeId);\r\n                        onBackPressed();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void loadCategory() {\r\n        Log.d(TAG, \"load Category : load Category \");\r\n        categoriesTitleArrayList = new ArrayList<>();\r\n        categoryIdArrayList = new ArrayList<>();\r\n        DatabaseReference reference = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\").getReference(\"Categories\");\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                categoriesTitleArrayList.clear();\r\n                categoryIdArrayList.clear();\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                    String categoryId = \"\" + dataSnapshot.child(\"id\").getValue();\r\n                    String categoryTitle = \"\" + dataSnapshot.child(\"category\").getValue();\r\n                    categoriesTitleArrayList.add(categoryTitle);\r\n                    categoryIdArrayList.add(categoryId);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showCategoryDialog() {\r\n        Log.d(TAG, \"Category dialog : showing dialog \");\r\n        String[] categoryArray = new String[categoriesTitleArrayList.size()];\r\n        for (int i = 0; i < categoriesTitleArrayList.size(); i++) {\r\n            categoryArray[i] = categoriesTitleArrayList.get(i);\r\n        }\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(\"Pick Category\")\r\n                .setItems(categoryArray, (dialog, which) -> {\r\n                    selectedCategoryTitle = categoriesTitleArrayList.get(which);\r\n                    selectedCategoryId = categoryIdArrayList.get(which);\r\n                    binding.categoryPick.setText(selectedCategoryTitle);\r\n                    Log.d(TAG, \"on Click : Selected Category :\" + selectedCategoryId + \" \" + selectedCategoryTitle);\r\n                })\r\n                .show();\r\n\r\n    }\r\n\r\n    private void addPhoto() {\r\n        Log.d(TAG, \"imageIntent : Start pick destination image\");\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(\"image/*\");\r\n        startActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_IMAGE_REQUEST && resultCode == RESULT_OK && data != null && data.getData() != null) {\r\n            Log.d(TAG, \"onActivityResult : Image picked\");\r\n            imageUri = data.getData();\r\n            Log.d(TAG, \"onActivityResult : URI : \" + imageUri);\r\n            Glide.with(AddDestination.this)\r\n                    .load(imageUri)\r\n                    .placeholder(R.drawable.person)\r\n                    .centerCrop()\r\n                    .into(binding.addPicture);\r\n        } else {\r\n            Log.d(TAG, \"onActivityResult : Cancelled pick image\");\r\n            Toast.makeText(this, \"Cancelled pick image\", Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    private void getPlaceDetails(String placeId) {\r\n        Log.d(TAG, \"getPlaceDetails : getting place details\");\r\n        List<Place.Field> placeFields = Arrays.asList(Place.Field.NAME, Place.Field.LAT_LNG, Place.Field.ADDRESS);\r\n        FetchPlaceRequest request = FetchPlaceRequest.builder(placeId, placeFields).build();\r\n        PlacesClient placesClient = Places.createClient(this);\r\n        placesClient.fetchPlace(request)\r\n                .addOnSuccessListener((response) -> {\r\n                    Place place = response.getPlace();\r\n                    Log.d(TAG, \"Place details: \" + place.getName() + \", \" + place.getAddress() + \", \" + place.getLatLng());\r\n                })\r\n                .addOnFailureListener((exception) -> {\r\n                    Log.e(TAG, \"Place not found: \" + exception.getMessage());\r\n                });\r\n\r\n    }\r\n\r\n    public Uri bitmapToUri(Context context, Bitmap bitmap) throws IOException {\r\n        // Create a temporary file in the cache directory\r\n        File tempFile = File.createTempFile(\"tempImage\", \".png\", context.getCacheDir());\r\n\r\n        // Write the bitmap data to the temporary file\r\n        FileOutputStream fos = new FileOutputStream(tempFile);\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n        fos.flush();\r\n        fos.close();\r\n\r\n        // Return the Uri of the temporary file\r\n        return Uri.fromFile(tempFile);\r\n    }\r\n\r\n    private static abstract class GetReviewsTask extends AsyncTask<String, Void, JSONObject> {\r\n        @Override\r\n        protected JSONObject doInBackground(String... params) {\r\n            String url = params[0];\r\n            JSONObject json = null;\r\n            try {\r\n                // Create the URL and open the connection\r\n                URL urlObj = new URL(url);\r\n                HttpURLConnection conn = (HttpURLConnection) urlObj.openConnection();\r\n                conn.setRequestMethod(\"GET\");\r\n\r\n                // Read the response from the connection\r\n                InputStream stream = conn.getInputStream();\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\r\n                StringBuilder response = new StringBuilder();\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    response.append(line);\r\n                }\r\n                // Parse the JSON response\r\n                json = new JSONObject(response.toString());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return json;\r\n        }\r\n        @Override\r\n        protected void onPostExecute(JSONObject json) {\r\n            if (json != null) {\r\n                try {\r\n                    JSONObject result = json.getJSONObject(\"result\");\r\n                    JSONArray reviews = result.optJSONArray(\"reviews\");\r\n                    if (reviews == null) {\r\n                        reviews = new JSONArray();\r\n                    }\r\n                    for (int i = 0; i < reviews.length(); i++) {\r\n                        JSONObject review = reviews.getJSONObject(i);\r\n                        String authorName = review.getString(\"author_name\");\r\n                        int reviewRating = review.getInt(\"rating\");\r\n                        String text = review.getString(\"text\");\r\n                        // Do something with the review data...\r\n                        Log.d(\"Review #\" + i, \"Author Name: \" + authorName);\r\n                        Log.d(\"Review #\" + i, \"Rating: \" + reviewRating);\r\n                        Log.d(\"Review #\" + i, \"Text: \" + text);\r\n                    }\r\n                    onPostExecute(reviews);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                    Log.e(TAG, \"Error with JSON parsing: \" + e.getMessage());\r\n                }\r\n            } else {\r\n                Log.e(TAG, \"Error getting reviews from server\");\r\n                JSONArray emptyReviews = new JSONArray();\r\n                onPostExecute(emptyReviews);\r\n            }\r\n        }\r\n        protected abstract void onPostExecute(JSONArray reviews);\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java b/app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java	(revision fb887ab2dd18cec4bb0c06d354b1bc9c33f184b4)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java	(date 1681458961653)
@@ -149,8 +149,11 @@
                             if (TextUtils.isEmpty(desc)) {
                                 StringBuilder sb = new StringBuilder();
                                 for (Place.Type type : place.getTypes()) {
-                                    sb.append(type.name().replace("_", " "));
-                                    sb.append(", ");
+                                    String typeName = type.name().replace("_", " ");
+                                    if (!typeName.equals("POINT OF INTEREST")) {
+                                        sb.append(typeName.toLowerCase().substring(0, 1).toUpperCase() + typeName.toLowerCase().substring(1));
+                                        sb.append(", ");
+                                    }
                                 }
                                 desc = sb.toString().trim();
                                 if (desc.endsWith(",")) {
@@ -201,8 +204,8 @@
                 // If photo metadata is available, fetch the photo and set it as the image
                 PhotoMetadata photoMetadata = photoMetadataList.get(0);
                 FetchPhotoRequest photoRequest = FetchPhotoRequest.builder(photoMetadata)
-                        .setMaxWidth(500)
-                        .setMaxHeight(300)
+                        .setMaxWidth(800)
+                        .setMaxHeight(500)
                         .build();
                 placesClient.fetchPhoto(photoRequest).addOnSuccessListener(fetchPhotoResponse -> {
                     Bitmap bitmap = fetchPhotoResponse.getBitmap();
Index: app/src/main/res/layout/activity_destination_details.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n\r\n    <data>\r\n\r\n    </data>\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\"\r\n        android:background=\"@color/palette_4\"\r\n        tools:context=\".Layout.DestinationDetails\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/backDesti\"\r\n                android:layout_gravity=\"start\"\r\n                android:layout_width=\"48dp\"\r\n                android:layout_height=\"48dp\"\r\n                android:background=\"#0000\"\r\n                android:src=\"@drawable/back_icon\"/>\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"center\"\r\n                android:text=\"Destination Details\"\r\n                android:textColor=\"@color/palette_1\"\r\n                android:textSize=\"20dp\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/addItenary\"\r\n                android:layout_gravity=\"end\"\r\n                android:layout_width=\"48dp\"\r\n                android:layout_height=\"48dp\"\r\n                android:background=\"#0000\"\r\n                android:src=\"@drawable/plus\" />\r\n        </LinearLayout>\r\n\r\n        <com.google.android.material.divider.MaterialDivider\r\n            android:layout_marginHorizontal=\"10dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\" />\r\n\r\n        <ScrollView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"230dp\"\r\n                    android:layout_margin=\"10dp\"\r\n                    app:cardCornerRadius=\"16dp\"\r\n                    app:cardElevation=\"5dp\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/desti_image\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"/>\r\n\r\n                </androidx.cardview.widget.CardView>\r\n\r\n                <androidx.cardview.widget.CardView xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"10dp\"\r\n                    app:cardBackgroundColor=\"@color/palette_3\"\r\n                    app:cardCornerRadius=\"6dp\"\r\n                    app:cardElevation=\"5dp\"\r\n                    app:contentPaddingBottom=\"10dp\"\r\n                    app:contentPaddingLeft=\"20dp\"\r\n                    app:contentPaddingRight=\"20dp\"\r\n                    app:contentPaddingTop=\"10dp\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\">\r\n\r\n                        <TextView\r\n                            android:textSize=\"18dp\"\r\n                            android:id=\"@+id/desti_name\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Destination Name\"\r\n                            android:textColor=\"@color/palette_1\"\r\n                            android:textStyle=\"bold\" />\r\n\r\n                        <com.google.android.material.divider.MaterialDivider\r\n                            android:layout_marginTop=\"5dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\" />\r\n\r\n                        <TextView\r\n                            android:layout_marginTop=\"10dp\"\r\n                            android:id=\"@+id/desti_desc\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:justificationMode=\"inter_word\"\r\n                            android:text=\"Destination Description\"\r\n                            android:textColor=\"@color/palette_1\" />\r\n\r\n                        <com.google.android.material.divider.MaterialDivider\r\n                            android:layout_marginTop=\"5dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\" />\r\n\r\n                        <TextView\r\n                            android:textStyle=\"bold\"\r\n                            android:id=\"@+id/desti_address\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginTop=\"10dp\"\r\n                            android:justificationMode=\"inter_word\"\r\n                            android:text=\"Destination Address\"\r\n                            android:textColor=\"@color/palette_1\"/>\r\n\r\n                        <com.google.android.material.divider.MaterialDivider\r\n                            android:layout_marginTop=\"5dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\" />\r\n                        <TextView\r\n                            android:textStyle=\"bold\"\r\n                            android:id=\"@+id/desti_phone\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginTop=\"10dp\"\r\n                            android:justificationMode=\"inter_word\"\r\n                            android:text=\"Destination Phone\"\r\n                            android:textColor=\"@color/palette_1\" />\r\n\r\n                        <com.google.android.material.divider.MaterialDivider\r\n                            android:layout_marginTop=\"5dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\" />\r\n\r\n                        <fragment\r\n                            android:layout_marginTop=\"20dp\"\r\n                            android:layout_marginBottom=\"20dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"300dp\"\r\n                            android:id=\"@+id/map\"\r\n                            android:name=\"com.google.android.gms.maps.SupportMapFragment\" />\r\n\r\n                        <com.google.android.material.divider.MaterialDivider\r\n                            android:layout_marginTop=\"5dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\" />\r\n\r\n                        <TextView\r\n                            android:gravity=\"center_vertical\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textSize=\"18dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginVertical=\"10dp\"\r\n                            android:justificationMode=\"inter_word\"\r\n                            android:text=\"Opening Hours\"\r\n                            android:textColor=\"@color/palette_1\" />\r\n                                <androidx.recyclerview.widget.RecyclerView\r\n                                    android:padding=\"15dp\"\r\n                                    android:background=\"@color/ic_launcher_background\"\r\n                                    android:id=\"@+id/opening_rv\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"0dp\"\r\n                                    android:layout_weight=\"1\"\r\n                                    android:layout_marginBottom=\"15dp\"\r\n                                    app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\r\n                                    tools:listitem=\"@layout/list_opening_hours\"/>\r\n\r\n                        <com.google.android.material.divider.MaterialDivider\r\n                            android:layout_marginTop=\"5dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"/>\r\n                        <TextView\r\n                            android:drawableLeft=\"@drawable/comment_icon\"\r\n                            android:drawableTint=\"@color/palette_1\"\r\n                            android:drawablePadding=\"5dp\"\r\n                            android:gravity=\"center_vertical\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textSize=\"18dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginVertical=\"10dp\"\r\n                            android:justificationMode=\"inter_word\"\r\n                            android:text=\"Place Reviews\"\r\n                            android:textColor=\"@color/palette_1\" />\r\n\r\n                        <androidx.recyclerview.widget.RecyclerView\r\n                            android:id=\"@+id/review_rv\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\r\n                            tools:listitem=\"@layout/list_review\"\r\n                            android:nestedScrollingEnabled=\"false\" />\r\n                        <com.google.android.material.divider.MaterialDivider\r\n                            android:layout_marginTop=\"5dp\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\" />\r\n                        <Button\r\n                            android:id=\"@+id/save_item\"\r\n                            android:textAllCaps=\"false\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginTop=\"20dp\"\r\n                            android:drawableLeft=\"@drawable/remove_bookmark\"\r\n                            android:drawableTint=\"@color/palette_4\"\r\n                            android:text=\"Bookmark Place\"\r\n                            android:textAlignment=\"center\"\r\n                            android:textColor=\"@color/palette_4\" />\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n            </LinearLayout>\r\n        </ScrollView>\r\n\r\n    </LinearLayout>\r\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_destination_details.xml b/app/src/main/res/layout/activity_destination_details.xml
--- a/app/src/main/res/layout/activity_destination_details.xml	(revision fb887ab2dd18cec4bb0c06d354b1bc9c33f184b4)
+++ b/app/src/main/res/layout/activity_destination_details.xml	(date 1681458265951)
@@ -62,7 +62,7 @@
 
                 <androidx.cardview.widget.CardView xmlns:app="http://schemas.android.com/apk/res-auto"
                     android:layout_width="match_parent"
-                    android:layout_height="230dp"
+                    android:layout_height="280dp"
                     android:layout_margin="10dp"
                     app:cardCornerRadius="16dp"
                     app:cardElevation="5dp">
Index: app/src/main/res/drawable/distance.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/distance.xml b/app/src/main/res/drawable/distance.xml
new file mode 100644
--- /dev/null	(date 1681456414348)
+++ b/app/src/main/res/drawable/distance.xml	(date 1681456414348)
@@ -0,0 +1,15 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="480.54"
+    android:viewportHeight="480.54">
+  <path
+      android:pathData="M225.28,278.43c0,-48.64 -39.57,-88.21 -88.21,-88.21c-48.64,0 -88.21,39.57 -88.21,88.21c0,14.25 3.4,27.73 9.43,39.65l78.78,162.46l78.79,-162.49C221.88,306.13 225.28,292.67 225.28,278.43zM137.06,327.24c-26.92,0 -48.82,-21.9 -48.82,-48.82s21.9,-48.82 48.82,-48.82c26.92,0 48.82,21.9 48.82,48.82S163.98,327.24 137.06,327.24z"
+      android:fillColor="#000000"/>
+  <path
+      android:pathData="M387.02,0c-24.63,0 -44.67,20.04 -44.67,44.67c0,7.22 1.72,14.04 4.78,20.08l39.89,82.27l39.9,-82.28c3.05,-6.04 4.77,-12.85 4.77,-20.07C431.69,20.04 411.65,0 387.02,0zM387.02,69.39c-13.63,0 -24.72,-11.09 -24.72,-24.72c0,-13.63 11.09,-24.72 24.72,-24.72c13.63,0 24.72,11.09 24.72,24.72C411.74,58.3 400.65,69.39 387.02,69.39z"
+      android:fillColor="#000000"/>
+  <path
+      android:pathData="M348.12,289.79c-1.81,-8.52 -4.17,-16.88 -7.13,-25.08c-3.97,-10.99 -8.74,-21.72 -12.39,-32.84c-6.82,-20.77 4.95,-38.1 7.16,-41.26c3.88,-5.52 8.41,-10.58 13.19,-15.32c9.21,-9.13 19.36,-17.29 29.98,-24.8c-1.32,-2.04 -2.59,-4.1 -3.81,-6.2c-15.28,5.99 -93.85,33.45 -91.94,94.12c0.38,12.16 5.08,23.74 7.98,35.53c1.39,5.68 2.61,11.41 3.35,17.22c0.32,2.61 0.51,5.24 0.73,7.87c0.01,-0.02 0,-0.03 -0.01,-0.05c0.01,0.08 0.2,8.33 -0.16,11.9c-1.15,11.19 -2.8,22.49 -7.52,32.76c-4.39,9.54 -11.01,17.84 -19.19,24.4c-18.72,14.99 -43.51,20.99 -66.91,23.4c-1.11,0.12 -2.23,0.22 -3.34,0.31l-41.78,86.15c20.61,-1.28 41.17,-4.1 61.24,-9.04c23.61,-5.81 46.61,-14.59 67.23,-27.6c20.6,-13 38.31,-30.58 50.1,-51.98c12.34,-22.39 17.28,-48.04 16.23,-73.45C350.75,307.16 349.93,298.31 348.12,289.79z"
+      android:fillColor="#000000"/>
+</vector>
Index: app/src/main/res/layout/activity_map_direction.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_map_direction.xml b/app/src/main/res/layout/activity_map_direction.xml
new file mode 100644
--- /dev/null	(date 1681463992254)
+++ b/app/src/main/res/layout/activity_map_direction.xml	(date 1681463992254)
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".MapDirection">
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/binus/pekalongancityguide/MapDirection.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/MapDirection.java b/app/src/main/java/com/binus/pekalongancityguide/MapDirection.java
new file mode 100644
--- /dev/null	(date 1681463993122)
+++ b/app/src/main/java/com/binus/pekalongancityguide/MapDirection.java	(date 1681463993122)
@@ -0,0 +1,14 @@
+package com.binus.pekalongancityguide;
+
+import androidx.appcompat.app.AppCompatActivity;
+
+import android.os.Bundle;
+
+public class MapDirection extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_map_direction);
+    }
+}
\ No newline at end of file
Index: app/src/main/res/layout/list_itinerary.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:id=\"@+id/itinerary_item_cardview\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_margin=\"16dp\"\r\n    android:layout_marginVertical=\"8dp\"\r\n    app:cardBackgroundColor=\"@color/ic_launcher_background\"\r\n    app:cardCornerRadius=\"8dp\"\r\n    app:cardElevation=\"4dp\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"150dp\"\r\n        android:orientation=\"horizontal\"\r\n        android:layout_gravity=\"center_horizontal\">\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/itinerary_bg\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\"\r\n            android:gravity=\"center\"\r\n            android:background=\"@color/palette_4\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/startTimeTextView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"8dp\"\r\n                android:textAppearance=\"?attr/textAppearanceListItem\"\r\n                android:textColor=\"@color/palette_1\"\r\n                android:text=\"start\"\r\n                android:textStyle=\"bold\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:textAlignment=\"center\" />\r\n\r\n            <com.binus.pekalongancityguide.Misc.DottedLineView\r\n                android:layout_width=\"3dp\"\r\n                android:layout_height=\"50dp\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/endTimeTextView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"8dp\"\r\n                android:textAppearance=\"?attr/textAppearanceListItem\"\r\n                android:textColor=\"@color/palette_1\"\r\n                android:text=\"end\"\r\n                android:textStyle=\"bold\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:textAlignment=\"center\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"8dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/dateTextView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"8dp\"\r\n                android:text=\"end\"\r\n                android:textAppearance=\"?attr/textAppearanceListItem\"\r\n                android:textColor=\"@color/alfa\"\r\n                android:textStyle=\"italic\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/placeNameTextView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"8dp\"\r\n                android:textSize=\"22dp\"\r\n                android:text=\"Name\"\r\n                android:textAppearance=\"?attr/textAppearanceListItem\"\r\n                android:textColor=\"@color/palette_2\"\r\n                android:textStyle=\"bold\"\r\n                android:layout_weight=\"1\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/distanceTextView\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"14dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:textAppearance=\"?attr/textAppearanceListItem\"\r\n                    android:textColor=\"@color/palette_3\"\r\n                    android:text=\"distance\"\r\n                    android:layout_weight=\"1\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/durationTextView\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"duration\"\r\n                    android:textSize=\"14dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:textAppearance=\"?attr/textAppearanceListItem\"\r\n                    android:textColor=\"@color/palette_3\"\r\n                    android:layout_weight=\"1\" />\r\n\r\n            </LinearLayout>\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n\r\n</androidx.cardview.widget.CardView>\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/list_itinerary.xml b/app/src/main/res/layout/list_itinerary.xml
--- a/app/src/main/res/layout/list_itinerary.xml	(revision fb887ab2dd18cec4bb0c06d354b1bc9c33f184b4)
+++ b/app/src/main/res/layout/list_itinerary.xml	(date 1681456414371)
@@ -88,6 +88,9 @@
                 android:orientation="horizontal">
 
                 <TextView
+                    android:drawablePadding="5dp"
+                    android:drawableTint="@color/palette_1"
+                    android:drawableLeft="@drawable/distance"
                     android:id="@+id/distanceTextView"
                     android:layout_width="match_parent"
                     android:layout_height="wrap_content"
@@ -100,6 +103,9 @@
                     android:layout_weight="1" />
 
                 <TextView
+                    android:drawableLeft="@drawable/baseline_access_time_24"
+                    android:drawablePadding="5dp"
+                    android:drawableTint="@color/palette_1"
                     android:id="@+id/durationTextView"
                     android:layout_width="match_parent"
                     android:layout_height="wrap_content"
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.PekalonganCityGuide\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".Layout.ItineraryList\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.ChangePassword\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Misc.ImageFullscreen\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.NewsDetail\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.DestinationDetailAdmin\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.EditDestination\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.ShowDestinationAdmin\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.AddDestination\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.AddCategory\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.AdminHome\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.CityHistory\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.FoodDetails\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.EditProfile\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.Register\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.DestinationDetails\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.Home\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.Splash\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"${MAPS_API_KEY}\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision fb887ab2dd18cec4bb0c06d354b1bc9c33f184b4)
+++ b/app/src/main/AndroidManifest.xml	(date 1681463992159)
@@ -18,6 +18,9 @@
         android:theme="@style/Theme.PekalonganCityGuide"
         tools:targetApi="31">
         <activity
+            android:name=".MapDirection"
+            android:exported="false" />
+        <activity
             android:name=".Layout.ItineraryList"
             android:exported="false" />
         <activity
