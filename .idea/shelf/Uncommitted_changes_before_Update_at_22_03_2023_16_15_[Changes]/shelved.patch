Index: .idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45__Changes_.xml	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
+++ /dev/null	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_15_03_2023_12_45_[Changes]" date="1678859135900" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 15/03/2023 12:45 [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_15_03_2023_12_45_[Changes]/shelved.patch	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
+++ /dev/null	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
@@ -1,61 +0,0 @@
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46__Changes_.xml	(revision 9c546069301eb594bd2fb179798efd8bd0774344)
-+++ /dev/null	(revision 9c546069301eb594bd2fb179798efd8bd0774344)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_07_03_2023_16_46_[Changes]" date="1678182401265" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 07/03/2023 16:46 [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_07_03_2023_16_46_[Changes]/shelved.patch	(revision 9c546069301eb594bd2fb179798efd8bd0774344)
-+++ /dev/null	(revision 9c546069301eb594bd2fb179798efd8bd0774344)
-@@ -1,42 +0,0 @@
--Index: app/src/main/res/layout/fragment_profile.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ProfileFragment\">\r\n    <LinearLayout\r\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n        <View\r\n            android:id=\"@+id/view\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"150dp\"\r\n            android:layout_alignParentStart=\"true\"\r\n            android:layout_alignParentTop=\"true\"\r\n            android:layout_marginBottom=\"50dp\"\r\n            android:background=\"#DFCCB5\">\r\n        </View>\r\n        <ImageView\r\n            android:layout_marginTop=\"-120dp\"\r\n            android:layout_width=\"150dp\"\r\n            android:layout_height=\"150dp\"\r\n            android:src=\"@drawable/person\"\r\n            android:layout_gravity=\"center\">\r\n        </ImageView>\r\n\r\n        <TextView\r\n            android:textColor=\"#ACA2A2\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Username\"\r\n            android:textSize=\"16dp\">\r\n        </TextView>\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_user\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:textColor=\"#55545A\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"John Cena\"\r\n            android:textSize=\"18dp\"\r\n            android:textStyle=\"bold\">\r\n        </TextView>\r\n\r\n        <com.google.android.material.divider.MaterialDivider\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n        </com.google.android.material.divider.MaterialDivider>\r\n\r\n        <TextView\r\n            android:layout_marginTop=\"10dp\"\r\n            android:textColor=\"#ACA2A2\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Email Address\"\r\n            android:textSize=\"16dp\">\r\n        </TextView>\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_email\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:textColor=\"#55545A\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"john_cena@wwe.com\"\r\n            android:textSize=\"18dp\"\r\n            android:textStyle=\"bold\">\r\n        </TextView>\r\n\r\n        <com.google.android.material.divider.MaterialDivider\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n        </com.google.android.material.divider.MaterialDivider>\r\n\r\n        <TextView\r\n            android:layout_marginTop=\"10dp\"\r\n            android:textColor=\"#ACA2A2\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Phone Number\"\r\n            android:textSize=\"16dp\">\r\n        </TextView>\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_phone\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:textColor=\"#55545A\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"0815347892360\"\r\n            android:textSize=\"18dp\"\r\n            android:textStyle=\"bold\">\r\n        </TextView>\r\n\r\n        <com.google.android.material.divider.MaterialDivider\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n        </com.google.android.material.divider.MaterialDivider>\r\n\r\n        <Button\r\n            android:id=\"@+id/logout_profile\"\r\n            android:layout_marginTop=\"30dp\"\r\n            android:layout_gravity=\"center\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Logout\"\r\n            >\r\n        </Button>\r\n    </LinearLayout>\r\n</FrameLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/fragment_profile.xml b/app/src/main/res/layout/fragment_profile.xml
----- a/app/src/main/res/layout/fragment_profile.xml	(revision d112280e6a483bc9d145ad2776f70e022912c8ec)
--+++ b/app/src/main/res/layout/fragment_profile.xml	(date 1678181036516)
--@@ -6,7 +6,6 @@
--     tools:context=".ProfileFragment">
--     <LinearLayout
--         xmlns:android="http://schemas.android.com/apk/res/android"
---        xmlns:app="http://schemas.android.com/apk/res-auto"
--         xmlns:tools="http://schemas.android.com/tools"
--         android:layout_width="match_parent"
--         android:layout_height="match_parent"
--Index: app/src/main/res/layout/fragment_bookmark.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".BookmarkFragment\">\r\n\r\n    <!-- TODO: Update blank fragment layout -->\r\n    <TextView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:text=\"@string/hello_blank_fragment\" />\r\n\r\n</FrameLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/fragment_bookmark.xml b/app/src/main/res/layout/fragment_bookmark.xml
----- a/app/src/main/res/layout/fragment_bookmark.xml	(revision d112280e6a483bc9d145ad2776f70e022912c8ec)
--+++ b/app/src/main/res/layout/fragment_bookmark.xml	(date 1678181166927)
--@@ -4,11 +4,6 @@
--     android:layout_width="match_parent"
--     android:layout_height="match_parent"
--     tools:context=".BookmarkFragment">
---
---    <!-- TODO: Update blank fragment layout -->
---    <TextView
---        android:layout_width="match_parent"
---        android:layout_height="match_parent"
---        android:text="@string/hello_blank_fragment" />
--+<
-- 
-- </FrameLayout>
--\ No newline at end of file
Index: app/src/main/res/layout/list_desti_admin.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n\r\n    </data>\r\n\r\n    <androidx.cardview.widget.CardView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"8dp\"\r\n        app:cardCornerRadius=\"10dp\"\r\n        app:cardElevation=\"3dp\"\r\n        android:clickable=\"true\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/adminlayoutImage\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"250dp\"\r\n            android:background=\"@color/white\"\r\n            android:backgroundTint=\"@color/palette_4\"\r\n            android:backgroundTintMode=\"multiply\">\r\n            <TextView\r\n                android:padding=\"5dp\"\r\n                android:background=\"@drawable/et_style\"\r\n                android:id=\"@+id/adminloc_cat\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:text=\"Category\"\r\n                android:textStyle=\"italic\"\r\n                android:textColor=\"@color/palette_2\"\r\n                android:textSize=\"16dp\" />\r\n            <ImageButton\r\n                android:id=\"@+id/option_btn\"\r\n                android:layout_margin=\"10dp\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_width=\"48dp\"\r\n                android:layout_height=\"48dp\"\r\n                android:src=\"@drawable/more_button\"\r\n                android:background=\"#0000\"/>\r\n            <TextView\r\n                android:id=\"@+id/adminloc_desc\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:visibility=\"invisible\" />\r\n            <TextView\r\n                android:id=\"@+id/adminloc_title\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:textColor=\"@color/white\"\r\n                android:text=\"TESTA LAGUSA\"\r\n                android:layout_margin=\"10dp\"\r\n                android:textSize=\"20dp\"\r\n                android:layout_alignParentBottom=\"true\"/>\r\n        </RelativeLayout>\r\n    </androidx.cardview.widget.CardView>\r\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/list_desti_admin.xml b/app/src/main/res/layout/list_desti_admin.xml
--- a/app/src/main/res/layout/list_desti_admin.xml	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
+++ b/app/src/main/res/layout/list_desti_admin.xml	(date 1679474638698)
@@ -21,18 +21,26 @@
             android:background="@color/white"
             android:backgroundTint="@color/palette_4"
             android:backgroundTintMode="multiply">
-            <TextView
-                android:padding="5dp"
-                android:background="@drawable/et_style"
-                android:id="@+id/adminloc_cat"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_marginTop="20dp"
-                android:layout_marginStart="20dp"
-                android:text="Category"
-                android:textStyle="italic"
-                android:textColor="@color/palette_2"
-                android:textSize="16dp" />
+            
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:orientation="horizontal"
+                android:padding="20dp">
+
+                <TextView
+                    android:paddingVertical="5dp"
+                    android:background="@drawable/et_style"
+                    android:id="@+id/adminloc_rat"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="Rating"
+                    android:textStyle="bold"
+                    android:textColor="@color/palette_2"
+                    android:textSize="16dp"
+                    android:drawableEnd="@drawable/star"/>
+
+            </LinearLayout>
             <ImageButton
                 android:id="@+id/option_btn"
                 android:layout_margin="10dp"
Index: app/src/main/res/drawable/star.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/star.xml b/app/src/main/res/drawable/star.xml
new file mode 100644
--- /dev/null	(date 1679474638824)
+++ b/app/src/main/res/drawable/star.xml	(date 1679474638824)
@@ -0,0 +1,5 @@
+<vector android:height="24dp" android:tint="#000000"
+    android:viewportHeight="24" android:viewportWidth="24"
+    android:width="24dp" xmlns:android="http://schemas.android.com/apk/res/android">
+    <path android:fillColor="@android:color/white" android:pathData="M14.43,10l-2.43,-8l-2.43,8l-7.57,0l6.18,4.41l-2.35,7.59l6.17,-4.69l6.18,4.69l-2.35,-7.59l6.17,-4.41z"/>
+</vector>
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'com.google.gms.google-services'\r\n    id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin'\r\n}\r\n\r\nandroid {\r\n    compileSdk 33\r\n\r\n    buildFeatures {\r\n        dataBinding true\r\n    }\r\n    defaultConfig {\r\n        applicationId \"com.binus.pekalongancityguide\"\r\n        minSdk 23\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    namespace 'com.binus.pekalongancityguide'\r\n}\r\n\r\ndependencies {\r\n    implementation 'androidx.appcompat:appcompat:1.6.1'\r\n    implementation 'com.google.android.material:material:1.8.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\r\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\r\n    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.2.0'\r\n    implementation 'com.google.android.material:material:1.9.0-alpha02'\r\n    implementation 'com.github.denzcoskun:ImageSlideShow:0.1.0'\r\n    implementation 'com.github.chetankoli1.BottomNavigation:chetanbottomnavigation:0.0.3'\r\n    implementation 'com.github.bumptech.glide:glide:4.15.0'\r\n    implementation 'com.squareup.okhttp3:okhttp:4.9.3'\r\n    implementation 'com.google.code.gson:gson:2.9.0'\r\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\r\n    implementation 'com.google.firebase:firebase-database:20.1.0'\r\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\r\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\r\n    implementation 'com.squareup.picasso:picasso:2.71828'\r\n    testImplementation 'junit:junit:4.13.2'\r\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.15.0'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
+++ b/app/build.gradle	(date 1679474638709)
@@ -39,7 +39,7 @@
     implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
     implementation 'com.google.android.gms:play-services-maps:18.1.0'
     implementation 'androidx.coordinatorlayout:coordinatorlayout:1.2.0'
-    implementation 'com.google.android.material:material:1.9.0-alpha02'
+    implementation 'com.google.android.material:material:1.9.0-beta01'
     implementation 'com.github.denzcoskun:ImageSlideShow:0.1.0'
     implementation 'com.github.chetankoli1.BottomNavigation:chetanbottomnavigation:0.0.3'
     implementation 'com.github.bumptech.glide:glide:4.15.0'
@@ -49,6 +49,7 @@
     implementation 'com.google.firebase:firebase-database:20.1.0'
     implementation 'com.google.firebase:firebase-storage:20.1.0'
     implementation 'com.google.android.gms:play-services-maps:18.1.0'
+    implementation 'com.google.android.libraries.places:places:3.0.0'
     implementation 'com.squareup.picasso:picasso:2.71828'
     testImplementation 'junit:junit:4.13.2'
     annotationProcessor 'com.github.bumptech.glide:compiler:4.15.0'
Index: app/src/main/java/com/binus/pekalongancityguide/Adapter/AdminDestinationAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Adapter;\r\n\r\nimport static com.binus.pekalongancityguide.Misc.Constants.MAX_BYTES_IMAGE;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.binus.pekalongancityguide.EditDestination;\r\nimport com.binus.pekalongancityguide.ItemTemplate.DestinationAdmin;\r\nimport com.binus.pekalongancityguide.Misc.Constants;\r\nimport com.binus.pekalongancityguide.Misc.FilterDestiAdmin;\r\nimport com.binus.pekalongancityguide.databinding.ListDestiAdminBinding;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class AdminDestinationAdapter extends RecyclerView.Adapter<AdminDestinationAdapter.HolderAdminDestination> implements Filterable {\r\n    private Context context;\r\n    public ArrayList<DestinationAdmin> destinationAdminArrayList,filterList;\r\n    public static final String TAG = \"DESTINATION_ADAPTER_TAG\";\r\n    private FilterDestiAdmin filterDestiAdmin;\r\n    private ListDestiAdminBinding binding;\r\n    private ProgressDialog dialog;\r\n    public AdminDestinationAdapter(Context context, ArrayList<DestinationAdmin> destinationAdminArrayList) {\r\n        this.context = context;\r\n        this.destinationAdminArrayList = destinationAdminArrayList;\r\n        this.filterList = destinationAdminArrayList;\r\n        dialog = new ProgressDialog(context);\r\n        dialog.setTitle(\"Please Wait\");\r\n        dialog.setCanceledOnTouchOutside(false);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public HolderAdminDestination onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        binding = ListDestiAdminBinding.inflate(LayoutInflater.from(context),parent,false);\r\n\r\n        return new HolderAdminDestination(binding.getRoot());\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull HolderAdminDestination holder, int position) {\r\n\r\n        DestinationAdmin destinationAdmin = destinationAdminArrayList.get(position);\r\n        String title = destinationAdmin.getTitle();\r\n        String description = destinationAdmin.getDescription();\r\n        holder.title.setText(title);\r\n        holder.description.setText(description);\r\n        loadCategory(destinationAdmin,holder);\r\n        loadImage(destinationAdmin,holder);\r\n        holder.options.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showOptionsDialog(destinationAdmin,holder);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showOptionsDialog(DestinationAdmin destinationAdmin, HolderAdminDestination holder) {\r\n        String destiId = destinationAdmin.getId();\r\n        String destiUrl = destinationAdmin.getUrl();\r\n        String destiTitle = destinationAdmin.getTitle();\r\n        String[] options = {\"Edit\",\"Delete\"};\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context);\r\n        builder.setTitle(\"Choose Options\")\r\n                .setItems(options, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        if(which==0){\r\n                            Intent intent = new Intent(context, EditDestination.class);\r\n                            intent.putExtra(\"destiId\",destiId);\r\n                        }else{\r\n                            deleteDesti(destinationAdmin,holder);\r\n                        }\r\n                    }\r\n                })\r\n                .show();\r\n\r\n    }\r\n\r\n    private void deleteDesti(DestinationAdmin destinationAdmin, HolderAdminDestination holder) {\r\n        String destiId = destinationAdmin.getId();\r\n        String destiUrl = destinationAdmin.getUrl();\r\n        String destiTitle = destinationAdmin.getTitle();\r\n        Log.d(TAG,\"delete desti : Deleting..\");\r\n        dialog.setMessage(\"Deleting \"+destiTitle+\". . .\");\r\n        dialog.show();\r\n        Log.d(TAG,\"delete desti : Deleting from storage\");\r\n        StorageReference reference = FirebaseStorage.getInstance().getReferenceFromUrl(destiUrl);\r\n        reference.delete()\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n\r\n                        Log.d(TAG,\"onSuccess : Succesfully deleted data\");\r\n                        DatabaseReference reference1 = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\").getReference(\"Destination\");\r\n                        reference1.child(destiId)\r\n                                .removeValue()\r\n                                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                    @Override\r\n                                    public void onSuccess(Void unused) {\r\n                                        Log.d(TAG,\"onSuccess: data deleted from db\");\r\n                                        dialog.dismiss();\r\n                                        Toast.makeText(context, \"Destination Deleted Succesfully !\", Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                })\r\n                                .addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        Log.d(TAG,\"onFAilure: error deleting data because of\"+e.getMessage());\r\n                                        dialog.dismiss();\r\n                                        Toast.makeText(context, \"\"+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                });\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(TAG,\"onFailure: fail detele data due to\"+e.getMessage());\r\n                        dialog.dismiss();\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    private void loadCategory(DestinationAdmin destinationAdmin, HolderAdminDestination holder) {\r\n        String categoryId = destinationAdmin.getCategoryId();\r\n        DatabaseReference reference = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\").getReference();\r\n        reference.child(categoryId)\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        String categorytext = \"\"+snapshot.child(\"category\").getValue();\r\n                        holder.category.setText(categorytext);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void loadImage(DestinationAdmin destinationAdmin, HolderAdminDestination holder) {\r\n        String imageUrl = destinationAdmin.getUrl();\r\n        StorageReference reference = FirebaseStorage.getInstance().getReferenceFromUrl(imageUrl);\r\n        reference.getBytes(MAX_BYTES_IMAGE)\r\n                .addOnSuccessListener(new OnSuccessListener<byte[]>() {\r\n                    @Override\r\n                    public void onSuccess(byte[] bytes) {\r\n                        Log.d(TAG,\"on Success: \"+destinationAdmin.getTitle()+\"successfully got the file\");\r\n                        Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n                        BitmapDrawable drawable = new BitmapDrawable(holder.itemView.getResources(), bitmap);\r\n                        holder.layoutImage.setBackground(drawable);\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(TAG,\"on Failure: failed to getting file from url due to\"+e.getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return destinationAdminArrayList.size();\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        if(filterDestiAdmin==null){\r\n            filterDestiAdmin = new FilterDestiAdmin(filterList,this);\r\n\r\n        }\r\n        return filterDestiAdmin;\r\n    }\r\n\r\n    class HolderAdminDestination extends RecyclerView.ViewHolder{\r\n        RelativeLayout layoutImage;\r\n        TextView title,description,category;\r\n        ImageButton options;\r\n        public HolderAdminDestination(@NonNull View itemView) {\r\n            super(itemView);\r\n            layoutImage = binding.adminlayoutImage;\r\n            title = binding.adminlocTitle;\r\n            description = binding.adminlocDesc;\r\n            category = binding.adminlocCat;\r\n            options = binding.optionBtn;\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Adapter/AdminDestinationAdapter.java b/app/src/main/java/com/binus/pekalongancityguide/Adapter/AdminDestinationAdapter.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Adapter/AdminDestinationAdapter.java	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Adapter/AdminDestinationAdapter.java	(date 1679475811778)
@@ -74,7 +74,9 @@
         String description = destinationAdmin.getDescription();
         holder.title.setText(title);
         holder.description.setText(description);
-        loadCategory(destinationAdmin,holder);
+        holder.rating.setText("4");
+        holder.rating.setCompoundDrawablesWithIntrinsicBounds(0, 0, 0, 0);
+//        loadCategory(destinationAdmin,holder);
         loadImage(destinationAdmin,holder);
         holder.options.setOnClickListener(new View.OnClickListener() {
             @Override
@@ -152,23 +154,23 @@
 
     }
 
-    private void loadCategory(DestinationAdmin destinationAdmin, HolderAdminDestination holder) {
-        String categoryId = destinationAdmin.getCategoryId();
-        DatabaseReference reference = FirebaseDatabase.getInstance("https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/").getReference();
-        reference.child(categoryId)
-                .addValueEventListener(new ValueEventListener() {
-                    @Override
-                    public void onDataChange(@NonNull DataSnapshot snapshot) {
-                        String categorytext = ""+snapshot.child("category").getValue();
-                        holder.category.setText(categorytext);
-                    }
-
-                    @Override
-                    public void onCancelled(@NonNull DatabaseError error) {
-
-                    }
-                });
-    }
+//    private void loadCategory(DestinationAdmin destinationAdmin, HolderAdminDestination holder) {
+//        String categoryId = destinationAdmin.getCategoryId();
+//        DatabaseReference reference = FirebaseDatabase.getInstance("https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/").getReference();
+//        reference.child(categoryId)
+//                .addValueEventListener(new ValueEventListener() {
+//                    @Override
+//                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+//                        String categorytext = ""+snapshot.child("category").getValue();
+//                        holder.category.setText(categorytext);
+//                    }
+//
+//                    @Override
+//                    public void onCancelled(@NonNull DatabaseError error) {
+//
+//                    }
+//                });
+//    }
 
     private void loadImage(DestinationAdmin destinationAdmin, HolderAdminDestination holder) {
         String imageUrl = destinationAdmin.getUrl();
@@ -207,14 +209,14 @@
 
     class HolderAdminDestination extends RecyclerView.ViewHolder{
         RelativeLayout layoutImage;
-        TextView title,description,category;
+        TextView title,description,rating;
         ImageButton options;
         public HolderAdminDestination(@NonNull View itemView) {
             super(itemView);
             layoutImage = binding.adminlayoutImage;
             title = binding.adminlocTitle;
             description = binding.adminlocDesc;
-            category = binding.adminlocCat;
+            rating = binding.adminlocRat;
             options = binding.optionBtn;
         }
     }
Index: app/src/main/java/com/binus/pekalongancityguide/Layout/ShowDestinationAdmin.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Layout;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.View;\r\n\r\nimport com.binus.pekalongancityguide.Adapter.AdminDestinationAdapter;\r\nimport com.binus.pekalongancityguide.ItemTemplate.DestinationAdmin;\r\nimport com.binus.pekalongancityguide.R;\r\nimport com.binus.pekalongancityguide.databinding.ActivityShowDestinationAdminBinding;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ShowDestinationAdmin extends AppCompatActivity {\r\n    private ActivityShowDestinationAdminBinding binding;\r\n    private ArrayList<DestinationAdmin> destinationAdminArrayList;\r\n    private AdminDestinationAdapter adapter;\r\n    private String categoryId,categoryTitle;\r\n    private static final String TAG = \"DESTI_LIST_TAG\";\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityShowDestinationAdminBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        Intent intent = getIntent();\r\n        categoryId = intent.getStringExtra(\"categoryId\");\r\n        categoryTitle =intent.getStringExtra(\"categoryTitle\");\r\n        binding.subtitleTv.setText(categoryTitle);\r\n\r\n        loadDestination();\r\n\r\n        binding.searchDestiadmin.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                try {\r\n                    adapter.getFilter().filter(s);\r\n                }catch (Exception e){\r\n                    Log.d(TAG,\"onTextChanged: \"+e.getMessage());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n\r\n        binding.backCategory.setOnClickListener(v -> onBackPressed());\r\n    }\r\n\r\n    private void loadDestination(){\r\n        destinationAdminArrayList = new ArrayList<>();\r\n        DatabaseReference reference = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\").getReference(\"Destination\");\r\n        reference.orderByChild(\"categoryId\").equalTo(categoryId)\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        destinationAdminArrayList.clear();\r\n                        for(DataSnapshot dataSnapshot: snapshot.getChildren()){\r\n                            DestinationAdmin destinationAdmin = dataSnapshot.getValue(DestinationAdmin.class);\r\n                            destinationAdminArrayList.add(destinationAdmin);\r\n                            Log.d(TAG,\"onDatachanged: \"+destinationAdmin.getId()+\"\"+destinationAdmin.getTitle());\r\n                        }\r\n                        adapter = new AdminDestinationAdapter(ShowDestinationAdmin.this,destinationAdminArrayList);\r\n                        binding.destiAdminrv.setAdapter(adapter);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Layout/ShowDestinationAdmin.java b/app/src/main/java/com/binus/pekalongancityguide/Layout/ShowDestinationAdmin.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Layout/ShowDestinationAdmin.java	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Layout/ShowDestinationAdmin.java	(date 1679476050651)
@@ -10,6 +10,7 @@
 import android.text.TextWatcher;
 import android.util.Log;
 import android.view.View;
+import android.widget.TextView;
 
 import com.binus.pekalongancityguide.Adapter.AdminDestinationAdapter;
 import com.binus.pekalongancityguide.ItemTemplate.DestinationAdmin;
@@ -27,7 +28,8 @@
     private ActivityShowDestinationAdminBinding binding;
     private ArrayList<DestinationAdmin> destinationAdminArrayList;
     private AdminDestinationAdapter adapter;
-    private String categoryId,categoryTitle;
+    private String categoryId, categoryTitle;
+    private TextView rating;
     private static final String TAG = "DESTI_LIST_TAG";
 
 
@@ -38,7 +40,7 @@
         setContentView(binding.getRoot());
         Intent intent = getIntent();
         categoryId = intent.getStringExtra("categoryId");
-        categoryTitle =intent.getStringExtra("categoryTitle");
+        categoryTitle = intent.getStringExtra("categoryTitle");
         binding.subtitleTv.setText(categoryTitle);
 
         loadDestination();
Index: app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Layout;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.binus.pekalongancityguide.ItemTemplate.Categories;\r\nimport com.binus.pekalongancityguide.R;\r\nimport com.binus.pekalongancityguide.databinding.ActivityAddDestinationBinding;\r\nimport com.bumptech.glide.Glide;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class AddDestination extends AppCompatActivity {\r\n    private ActivityAddDestinationBinding binding;\r\n    private FirebaseAuth firebaseAuth;\r\n    private Uri imageUri = null;\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n\r\n    private ProgressDialog progressDialog;\r\n    ArrayList<String> categoriesTitleArrayList, categoryIdArrayList;\r\n    public static final String TAG = \"ADD_IMAGE_TAG\";\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityAddDestinationBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        loadCategory();\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.setTitle(\"Please wait\");\r\n        progressDialog.setCanceledOnTouchOutside(false);\r\n\r\n        binding.backtoAdmin.setOnClickListener(v -> onBackPressed());\r\n        binding.addPicture.setOnClickListener(v -> addPhoto());\r\n        binding.categoryPick.setOnClickListener(v -> showCategoryDialog());\r\n        binding.addBtn.setOnClickListener(v -> {\r\n            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(binding.getRoot().getWindowToken(), 0);\r\n            validateData();\r\n        });\r\n\r\n    }\r\n    private String title=\"\",desc=\"\";\r\n    private void validateData() {\r\n        Log.d(TAG,\"validate data : validating data \");\r\n        title = binding.titleEt.getText().toString().trim();\r\n        desc = binding.descEt.getText().toString().trim();\r\n        if(TextUtils.isEmpty(title)){\r\n            binding.titleEt.setError(\"Enter destination title!\");\r\n        }else if(TextUtils.isEmpty((desc))){\r\n            binding.descEt.setError(\"Enter destination description!\");\r\n        }else if(TextUtils.isEmpty(selectedCategoryTitle)){\r\n            binding.categoryPick.setError(\"Pick a category!\");\r\n        }else if(imageUri==null){\r\n            Toast.makeText(this, \"Pick an image!\", Toast.LENGTH_SHORT).show();\r\n        }else{\r\n            uploadtoStorage();\r\n        }\r\n    }\r\n\r\n    private void uploadtoStorage() {\r\n        Log.d(TAG,\"uploadtoStorage : uploading to storage\");\r\n        progressDialog.setMessage(\"Uploading image\");\r\n        progressDialog.show();\r\n        long timestamp = System.currentTimeMillis();\r\n        String filePathandName = \"Destination/\" + timestamp;\r\n        StorageReference storageReference = FirebaseStorage.getInstance(\"gs://pekalongan-city-guide-5bf2e.appspot.com\").getReference(filePathandName);\r\n        storageReference.putFile(imageUri)\r\n                .addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                        Log.d(TAG,\"on success : Image uploaded to Storage\");\r\n                        Log.d(TAG,\"on success : getting image url\");\r\n                        Task<Uri> uriTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                        while (!uriTask.isSuccessful());\r\n                        String uploadedImageUrl = \"\"+uriTask.getResult();\r\n                        uploadtoDB(uploadedImageUrl,timestamp);\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        progressDialog.dismiss();\r\n                        Log.d(TAG,\"on Failure : Image upload failed due to \"+e.getMessage());\r\n                        Toast.makeText(AddDestination.this, \"Image upload failed due to \"+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n    }\r\n    private void uploadtoDB(String uploadedImageUrl, long timestamp){\r\n        Log.d(TAG,\"uploadtoDB : uploading image to firebase DB\");\r\n        progressDialog.setMessage(\"Uploading image info\");\r\n        String uid = firebaseAuth.getUid();\r\n        HashMap<String,Object> hashMap = new HashMap<>();\r\n        hashMap.put(\"uid\",\"\"+uid);\r\n        hashMap.put(\"id\",\"\"+timestamp);\r\n        hashMap.put(\"title\",\"\"+title);\r\n        hashMap.put(\"description\",\"\"+desc);\r\n        hashMap.put(\"categoryId\",\"\"+selectedCategoryId);\r\n        hashMap.put(\"url\",\"\"+uploadedImageUrl);\r\n        hashMap.put(\"timestamp\",timestamp);\r\n        DatabaseReference reference = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\").getReference(\"Destination\");\r\n        reference.child(\"\"+timestamp)\r\n                .setValue(hashMap)\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        progressDialog.dismiss();\r\n                        Log.d(TAG,\"on success : Image succesfully uploaded to db\");\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        progressDialog.dismiss();\r\n                        Log.d(TAG,\"on Failure : failed to upload to db due to\"+e.getMessage());\r\n                        Toast.makeText(AddDestination.this, \"failed to upload to db due to\"+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void loadCategory(){\r\n        Log.d(TAG,\"load Category : load Category \");\r\n        categoriesTitleArrayList = new ArrayList<>();\r\n        categoryIdArrayList = new ArrayList<>();\r\n        DatabaseReference reference = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\").getReference(\"Categories\");\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                categoriesTitleArrayList.clear();\r\n                categoryIdArrayList.clear();\r\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    String categoryId = \"\"+dataSnapshot.child(\"id\").getValue();\r\n                    String categoryTitle = \"\"+dataSnapshot.child(\"category\").getValue();\r\n                    categoriesTitleArrayList.add(categoryTitle);\r\n                    categoryIdArrayList.add(categoryId);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n    private String selectedCategoryId,selectedCategoryTitle;\r\n    private void showCategoryDialog(){\r\n        Log.d(TAG,\"Category dialog : showing dialog \");\r\n        String [] categoryArray = new String[categoriesTitleArrayList.size()];\r\n        for(int i=0;i<categoriesTitleArrayList.size();i++){\r\n            categoryArray[i] = categoriesTitleArrayList.get(i);\r\n        }\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(\"Pick Category\")\r\n                .setItems(categoryArray, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        selectedCategoryTitle = categoriesTitleArrayList.get(which);\r\n                        selectedCategoryId = categoryIdArrayList.get(which);\r\n                        binding.categoryPick.setText(selectedCategoryTitle);\r\n                        Log.d(TAG,\"on Click : Selected Category :\"+selectedCategoryId+\" \"+selectedCategoryTitle);\r\n                    }\r\n                })\r\n                .show();\r\n\r\n    }\r\n    private void addPhoto(){\r\n        Log.d(TAG,\"imageIntent : Start pick destination image\");\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(\"image/*\");\r\n        startActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == PICK_IMAGE_REQUEST && resultCode == RESULT_OK && data != null && data.getData() != null) {\r\n            Log.d(TAG, \"onActivityResult : Image picked\");\r\n            imageUri = data.getData();\r\n            Log.d(TAG, \"onActivityResult : URI : \" + imageUri);\r\n            Glide.with(AddDestination.this)\r\n                    .load(imageUri)\r\n                    .placeholder(R.drawable.person)\r\n                    .centerCrop()\r\n                    .into(binding.addPicture);\r\n        }\r\n        else{\r\n            Log.d(TAG,\"onActivityResult : Cancelled pick image\");\r\n            Toast.makeText(this, \"Cancelled pick image\", Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java b/app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java	(revision 670b61a85ba0f44eeeda7aca0926c5ccf7efa464)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Layout/AddDestination.java	(date 1679476447760)
@@ -23,6 +23,13 @@
 import com.google.android.gms.tasks.OnFailureListener;
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.gms.tasks.Task;
+import com.google.android.libraries.places.api.Places;
+import com.google.android.libraries.places.api.model.AutocompleteSessionToken;
+import com.google.android.libraries.places.api.model.Place;
+import com.google.android.libraries.places.api.model.TypeFilter;
+import com.google.android.libraries.places.api.net.FindAutocompletePredictionsRequest;
+import com.google.android.libraries.places.api.net.FindAutocompletePredictionsResponse;
+import com.google.android.libraries.places.api.net.PlacesClient;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -34,7 +41,11 @@
 import com.google.firebase.storage.UploadTask;
 
 import java.util.ArrayList;
+import java.util.Arrays;
 import java.util.HashMap;
+import java.util.List;
+
+import static com.binus.pekalongancityguide.BuildConfig.MAPS_API_KEY;
 
 public class AddDestination extends AppCompatActivity {
     private ActivityAddDestinationBinding binding;
@@ -48,6 +59,7 @@
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
+        Places.initialize(getApplicationContext(), MAPS_API_KEY);
         binding = ActivityAddDestinationBinding.inflate(getLayoutInflater());
         setContentView(binding.getRoot());
         firebaseAuth = FirebaseAuth.getInstance();
@@ -80,11 +92,35 @@
         }else if(imageUri==null){
             Toast.makeText(this, "Pick an image!", Toast.LENGTH_SHORT).show();
         }else{
-            uploadtoStorage();
+            uploadtoStorage(null);
+            // Get location ID from title and address
+//            PlacesClient placesClient = Places.createClient(this);
+//            List<Place.Field> placeFields = Arrays.asList(Place.Field.ID, Place.Field.NAME, Place.Field.ADDRESS);
+//            AutocompleteSessionToken token = AutocompleteSessionToken.newInstance();
+//            FindAutocompletePredictionsRequest request = FindAutocompletePredictionsRequest.builder()
+//                    .setTypeFilter(TypeFilter.ESTABLISHMENT)
+//                    .setSessionToken(token)
+//                    .setQuery(title)
+//                    .build();
+//            Task<FindAutocompletePredictionsResponse> task = placesClient.findAutocompletePredictions(request);
+//            task.addOnSuccessListener(response -> {
+//                if (!response.getAutocompletePredictions().isEmpty()) {
+//                    // Get the place ID from the first prediction
+//                    String placeId = response.getAutocompletePredictions().get(0).getPlaceId();
+//                    Log.d(TAG, "Place ID: " + placeId);
+//                    uploadtoStorage(placeId);
+//                } else {
+//                    Toast.makeText(this, "No location found for the given title", Toast.LENGTH_SHORT).show();
+//                }
+//            });
+//            task.addOnFailureListener(e -> {
+//                Log.e(TAG, "Error getting place ID: " + e.getMessage());
+//                Toast.makeText(this, "Error getting location from title: " + e.getMessage(), Toast.LENGTH_SHORT).show();
+//            });
         }
-    }
+        }
 
-    private void uploadtoStorage() {
+    private void uploadtoStorage(String placeId) {
         Log.d(TAG,"uploadtoStorage : uploading to storage");
         progressDialog.setMessage("Uploading image");
         progressDialog.show();
@@ -100,7 +136,7 @@
                         Task<Uri> uriTask = taskSnapshot.getStorage().getDownloadUrl();
                         while (!uriTask.isSuccessful());
                         String uploadedImageUrl = ""+uriTask.getResult();
-                        uploadtoDB(uploadedImageUrl,timestamp);
+                        uploadtoDB(uploadedImageUrl,timestamp,placeId);
                     }
                 })
                 .addOnFailureListener(new OnFailureListener() {
@@ -113,7 +149,7 @@
                 });
 
     }
-    private void uploadtoDB(String uploadedImageUrl, long timestamp){
+    private void uploadtoDB(String uploadedImageUrl, long timestamp, String placeId){
         Log.d(TAG,"uploadtoDB : uploading image to firebase DB");
         progressDialog.setMessage("Uploading image info");
         String uid = firebaseAuth.getUid();
@@ -125,22 +161,22 @@
         hashMap.put("categoryId",""+selectedCategoryId);
         hashMap.put("url",""+uploadedImageUrl);
         hashMap.put("timestamp",timestamp);
+        hashMap.put("placeId", placeId);
         DatabaseReference reference = FirebaseDatabase.getInstance("https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/").getReference("Destination");
         reference.child(""+timestamp)
                 .setValue(hashMap)
                 .addOnSuccessListener(new OnSuccessListener<Void>() {
                     @Override
-                    public void onSuccess(Void unused) {
+                    public void onSuccess(Void aVoid) {
                         progressDialog.dismiss();
-                        Log.d(TAG,"on success : Image succesfully uploaded to db");
+                        Toast.makeText(getApplicationContext(),"Image uploaded successfully", Toast.LENGTH_LONG).show();
                     }
                 })
                 .addOnFailureListener(new OnFailureListener() {
                     @Override
                     public void onFailure(@NonNull Exception e) {
                         progressDialog.dismiss();
-                        Log.d(TAG,"on Failure : failed to upload to db due to"+e.getMessage());
-                        Toast.makeText(AddDestination.this, "failed to upload to db due to"+e.getMessage(), Toast.LENGTH_SHORT).show();
+                        Toast.makeText(getApplicationContext(),""+e.getMessage(), Toast.LENGTH_LONG).show();
                     }
                 });
     }
