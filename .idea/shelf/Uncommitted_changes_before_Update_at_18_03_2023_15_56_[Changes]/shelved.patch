Index: app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationDetails.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Layout;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.binus.pekalongancityguide.R;\r\n\r\npublic class DestinationDetails extends AppCompatActivity {\r\n    ImageView dImage;\r\n    TextView dName,dDesc,dAddress;\r\n    ImageButton backButton;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_destination_details);\r\n        init();\r\n        backButton.setOnClickListener(v -> onBackPressed());\r\n        getData();\r\n    }\r\n    void init(){\r\n        dImage = findViewById(R.id.ddimg);\r\n        dName = findViewById(R.id.ddname);\r\n        dDesc = findViewById(R.id.dddesc);\r\n        dAddress = findViewById(R.id.ddadd);\r\n        backButton = findViewById(R.id.backDestination);\r\n    }\r\n    void getData(){\r\n        dImage.setBackgroundResource(this.getIntent().getIntExtra(\"gambar\", R.drawable.desti1));\r\n        dName.setText(this.getIntent().getStringExtra(\"nama\"));\r\n        dDesc.setText(\"\\t\\t\\t\\t\\t\" + this.getIntent().getStringExtra(\"detil\"));\r\n        dAddress.setText(this.getIntent().getStringExtra(\"alamat\"));\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationDetails.java b/app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationDetails.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationDetails.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationDetails.java	(date 1679128811928)
@@ -9,6 +9,11 @@
 import androidx.appcompat.app.AppCompatActivity;
 
 import com.binus.pekalongancityguide.R;
+import com.google.android.gms.maps.CameraUpdate;
+import com.google.android.gms.maps.CameraUpdateFactory;
+import com.google.android.gms.maps.SupportMapFragment;
+import com.google.android.gms.maps.model.LatLng;
+import com.google.android.gms.maps.model.MarkerOptions;
 
 public class DestinationDetails extends AppCompatActivity {
     ImageView dImage;
@@ -20,6 +25,20 @@
         setContentView(R.layout.activity_destination_details);
         init();
         backButton.setOnClickListener(v -> onBackPressed());
+
+        SupportMapFragment fragment = (SupportMapFragment) getSupportFragmentManager()
+                .findFragmentById(R.id.map);
+        fragment.getMapAsync(googleMap ->{
+            double latitude = getIntent().getDoubleExtra("lat", 0);
+            double longitude = getIntent().getDoubleExtra("long", 0);
+            LatLng coordinate = new LatLng(latitude, longitude);
+            MarkerOptions marker = new MarkerOptions();
+            marker = marker.position(coordinate);
+            marker = marker.title(getIntent().getStringExtra("judul"));
+            googleMap.addMarker(marker);
+            CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(coordinate, 15);
+            googleMap.moveCamera(cameraUpdate);
+        });
         getData();
     }
     void init(){
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>buildscript {\r\n    dependencies {\r\n        classpath 'com.google.gms:google-services:4.3.15'\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id 'com.android.application' version '7.4.2' apply false\r\n    id 'com.android.library' version '7.4.2' apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build.gradle b/build.gradle
--- a/build.gradle	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/build.gradle	(date 1679124713321)
@@ -6,6 +6,7 @@
 plugins {
     id 'com.android.application' version '7.4.2' apply false
     id 'com.android.library' version '7.4.2' apply false
+    id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin' version '2.0.1' apply false
 }
 
 task clean(type: Delete) {
Index: app/src/main/java/com/binus/pekalongancityguide/Adapter/DestinationAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Adapter;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.binus.pekalongancityguide.ItemTemplate.Destination;\r\nimport com.binus.pekalongancityguide.Layout.DestinationDetails;\r\nimport com.binus.pekalongancityguide.R;\r\n\r\nimport java.util.List;\r\n\r\npublic class DestinationAdapter extends RecyclerView.Adapter<DestinationAdapter.ViewHolder> {\r\n    private List<Destination> item;\r\n\r\n    public DestinationAdapter(List<Destination> items) {\r\n        item = items;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_destination, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(\"RecyclerView\") int position) {\r\n        Destination item1 = item.get(position);\r\n        holder.layoutBg.setBackgroundResource(item1.getDestiImage());\r\n        holder.destinameTV.setText(item1.getDestiName());\r\n        holder.destinameTV2.setText(item1.getDestiName2());\r\n        holder.destiDescTV.setText(item1.getDestiDesc());\r\n        holder.destiAddressTV.setText(item1.getDestiAddress());\r\n        holder.layoutBg.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(v.getContext(), DestinationDetails.class);\r\n                intent.putExtra(\"gambar\",item.get(position).getDestiImage());\r\n                intent.putExtra(\"nama\",item.get(position).getDestiName());\r\n                intent.putExtra(\"detil\",item.get(position).getDestiDesc());\r\n                intent.putExtra(\"alamat\",item.get(position).getDestiAddress());\r\n                v.getContext().startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return item.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView destinameTV, destinameTV2, destiDescTV, destiAddressTV;\r\n        RelativeLayout layoutBg;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            destinameTV = itemView.findViewById(R.id.loc_name);\r\n            destinameTV2 = itemView.findViewById(R.id.loc_name2);\r\n            layoutBg = itemView.findViewById(R.id.layoutImage);\r\n            destiDescTV = itemView.findViewById(R.id.loc_desc);\r\n            destiAddressTV = itemView.findViewById(R.id.loc_address);\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Adapter/DestinationAdapter.java b/app/src/main/java/com/binus/pekalongancityguide/Adapter/DestinationAdapter.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Adapter/DestinationAdapter.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Adapter/DestinationAdapter.java	(date 1679128616280)
@@ -42,6 +42,11 @@
         holder.destinameTV2.setText(item1.getDestiName2());
         holder.destiDescTV.setText(item1.getDestiDesc());
         holder.destiAddressTV.setText(item1.getDestiAddress());
+        double destiLat = item1.getDestiLat();
+        holder.destiLatTV.setText(String.valueOf(destiLat));
+        double destiLong = item1.getDestiLong();
+        holder.destiLatTV.setText(String.valueOf(destiLong));
+        holder.destiTitleTV.setText(item1.getDestiTitle());
         holder.layoutBg.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
@@ -50,6 +55,9 @@
                 intent.putExtra("nama",item.get(position).getDestiName());
                 intent.putExtra("detil",item.get(position).getDestiDesc());
                 intent.putExtra("alamat",item.get(position).getDestiAddress());
+                intent.putExtra("lat",item.get(position).getDestiLat());
+                intent.putExtra("long",item.get(position).getDestiLong());
+                intent.putExtra("judul",item.get(position).getDestiTitle());
                 v.getContext().startActivity(intent);
             }
         });
@@ -61,7 +69,7 @@
     }
 
     public class ViewHolder extends RecyclerView.ViewHolder {
-        TextView destinameTV, destinameTV2, destiDescTV, destiAddressTV;
+        TextView destinameTV, destinameTV2, destiDescTV, destiAddressTV,destiLatTV,destiLongTV,destiTitleTV;
         RelativeLayout layoutBg;
 
         public ViewHolder(@NonNull View itemView) {
@@ -71,6 +79,9 @@
             layoutBg = itemView.findViewById(R.id.layoutImage);
             destiDescTV = itemView.findViewById(R.id.loc_desc);
             destiAddressTV = itemView.findViewById(R.id.loc_address);
+            destiLatTV = itemView.findViewById(R.id.loc_lat);
+            destiLongTV = itemView.findViewById(R.id.loc_long);
+            destiTitleTV = itemView.findViewById(R.id.loc_title);
         }
     }
 }
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.PekalonganCityGuide\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".Layout.CityHistory\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.FoodDetails\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".EditProfile\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.Register\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.DestinationDetails\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.Home\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Layout.Splash\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/AndroidManifest.xml	(date 1679124844996)
@@ -18,6 +18,12 @@
         android:theme="@style/Theme.PekalonganCityGuide"
         tools:targetApi="31">
         <activity
+            android:name=".AdminHome"
+            android:exported="false" />
+        <meta-data
+            android:name="com.google.android.geo.API_KEY"
+            android:value="${MAPS_API_KEY}" />
+        <activity
             android:name=".Layout.CityHistory"
             android:exported="false" />
         <activity
Index: app/src/main/java/com/binus/pekalongancityguide/ItemTemplate/Destination.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.ItemTemplate;\r\n\r\npublic class Destination {\r\n    int destiImage;\r\n    String destiName, destiName2,destiDesc,destiAddress;\r\n\r\n    public Destination(int destiImage, String destiName, String destiName2, String destiDesc, String destiAddress) {\r\n        this.destiImage = destiImage;\r\n        this.destiName = destiName;\r\n        this.destiName2 = destiName2;\r\n        this.destiDesc = destiDesc;\r\n        this.destiAddress = destiAddress;\r\n    }\r\n\r\n    public int getDestiImage() {\r\n        return destiImage;\r\n    }\r\n\r\n    public void setDestiImage(int destiImage) {\r\n        this.destiImage = destiImage;\r\n    }\r\n\r\n    public String getDestiName() {\r\n        return destiName;\r\n    }\r\n\r\n    public void setDestiName(String destiName) {\r\n        this.destiName = destiName;\r\n    }\r\n\r\n    public String getDestiName2() {\r\n        return destiName2;\r\n    }\r\n\r\n    public void setDestiName2(String destiName2) {\r\n        this.destiName2 = destiName2;\r\n    }\r\n\r\n    public String getDestiDesc() {\r\n        return destiDesc;\r\n    }\r\n\r\n    public void setDestiDesc(String destiDesc) {\r\n        this.destiDesc = destiDesc;\r\n    }\r\n\r\n    public String getDestiAddress() {\r\n        return destiAddress;\r\n    }\r\n\r\n    public void setDestiAddress(String destiAddress) {\r\n        this.destiAddress = destiAddress;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/ItemTemplate/Destination.java b/app/src/main/java/com/binus/pekalongancityguide/ItemTemplate/Destination.java
--- a/app/src/main/java/com/binus/pekalongancityguide/ItemTemplate/Destination.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/java/com/binus/pekalongancityguide/ItemTemplate/Destination.java	(date 1679128616309)
@@ -2,14 +2,18 @@
 
 public class Destination {
     int destiImage;
-    String destiName, destiName2,destiDesc,destiAddress;
+    double destiLat,destiLong;
+    String destiName, destiName2,destiDesc,destiAddress,destiTitle;
 
-    public Destination(int destiImage, String destiName, String destiName2, String destiDesc, String destiAddress) {
+    public Destination(int destiImage, double destiLat, double destiLong, String destiName, String destiName2, String destiDesc, String destiAddress, String destiTitle) {
         this.destiImage = destiImage;
+        this.destiLat = destiLat;
+        this.destiLong = destiLong;
         this.destiName = destiName;
         this.destiName2 = destiName2;
         this.destiDesc = destiDesc;
         this.destiAddress = destiAddress;
+        this.destiTitle = destiTitle;
     }
 
     public int getDestiImage() {
@@ -20,6 +24,22 @@
         this.destiImage = destiImage;
     }
 
+    public double getDestiLat() {
+        return destiLat;
+    }
+
+    public void setDestiLat(double destiLat) {
+        this.destiLat = destiLat;
+    }
+
+    public double getDestiLong() {
+        return destiLong;
+    }
+
+    public void setDestiLong(double destiLong) {
+        this.destiLong = destiLong;
+    }
+
     public String getDestiName() {
         return destiName;
     }
@@ -51,4 +71,12 @@
     public void setDestiAddress(String destiAddress) {
         this.destiAddress = destiAddress;
     }
+
+    public String getDestiTitle() {
+        return destiTitle;
+    }
+
+    public void setDestiTitle(String destiTitle) {
+        this.destiTitle = destiTitle;
+    }
 }
Index: app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Layout;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.binus.pekalongancityguide.Adapter.DestinationAdapter;\r\nimport com.binus.pekalongancityguide.ItemList.DestinationItem;\r\nimport com.binus.pekalongancityguide.ItemTemplate.Destination;\r\nimport com.binus.pekalongancityguide.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class DestinationFragment extends Fragment {\r\n    RecyclerView destiRV;\r\n    RecyclerView.Adapter destiRVAdapter;\r\n    RecyclerView.LayoutManager destiRVLayoutManager;\r\n    ArrayList<Destination> destiData;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view =  inflater.inflate(R.layout.fragment_destination, container, false);\r\n        destiRV = view.findViewById(R.id.desti_rv);\r\n\r\n        destiRVLayoutManager = new LinearLayoutManager(getContext());\r\n        destiRV.setLayoutManager(destiRVLayoutManager);\r\n\r\n        destiData = new ArrayList<>();\r\n        for (int i = 0; i < DestinationItem.destiimage.length; i++) {\r\n            destiData.add(new Destination(\r\n                    DestinationItem.destiimage[i],\r\n                    DestinationItem.destiname[i],\r\n                    DestinationItem.destiname2[i],\r\n                    DestinationItem.destidesc[i],\r\n                    DestinationItem.destiaddress[i]\r\n            ));\r\n        }\r\n\r\n        destiRVAdapter = new DestinationAdapter(destiData);\r\n        destiRV.setAdapter(destiRVAdapter);\r\n        return view;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationFragment.java b/app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationFragment.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationFragment.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Layout/DestinationFragment.java	(date 1679127838235)
@@ -34,10 +34,13 @@
         for (int i = 0; i < DestinationItem.destiimage.length; i++) {
             destiData.add(new Destination(
                     DestinationItem.destiimage[i],
+                    DestinationItem.destiLat[i],
+                    DestinationItem.destiLong[i],
                     DestinationItem.destiname[i],
                     DestinationItem.destiname2[i],
                     DestinationItem.destidesc[i],
-                    DestinationItem.destiaddress[i]
+                    DestinationItem.destiaddress[i],
+                    DestinationItem.destiTitle[i]
             ));
         }
 
Index: app/src/main/java/com/binus/pekalongancityguide/ItemList/DestinationItem.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.ItemList;\r\n\r\nimport com.binus.pekalongancityguide.R;\r\n\r\npublic class DestinationItem {\r\n    public static int[] destiimage = {\r\n            R.drawable.desti1,\r\n            R.drawable.desti2,\r\n            R.drawable.desti3,\r\n            R.drawable.desti4\r\n    };\r\n    public static String[] destiname = {\r\n            \"Alun-alun Kota Pekalongan\",\r\n            \"Kawasan Budaya Jetayu\",\r\n            \"Museum Batik Pekalongan\",\r\n            \"Kawasan Wisata Taman Mangrove\"\r\n    };\r\n\r\n    public static String[] destiname2 = {\r\n            \"Alun-alun Kota Pekalongan\",\r\n            \"Kawasan Budaya Jetayu\",\r\n            \"Museum Batik Pekalongan\",\r\n            \"Kawasan Wisata Taman Mangrove\"\r\n    };\r\n    public static String[] destidesc = {\r\n            \"Alun-alun Kota Pekalongan sebuah ruang publik yang menjadi favorit pengunjung untuk bersantai sambil mengajak main anak-anak. Lokasinya yang berada di tengah kota membuatnya tak pernah sepi pengunjung.Alun-Alun sejak dulu hingga kini memang selalu menjadi pusat dari berbagai kegiatan masyarakat, dan hampir di seluruh daerah di Indonesia memiliki alun-alun.Alun-Alun menjadi sebuah sarana umum yang dapat dilakukan untuk berbagai macam kegiatan, mulai dari tempat hangout, tempat berolahraga, lokasi ngedate, tempat mengadakan berbagai acara atau juga mengajak anak-anak bermain.\",\r\n            \"Kawasan budaya Jetayu Pekalongan, sekarang menjadi ikon wisata budaya di Kota Pekalongan. Kawasan alun-alun utara Kota Pekalongan tepatnya di Jalan Jetayu sudah dikenal sebagai tempat kesenian dan kebudayaan sejak zaman kolonial. Di tempat tersebut terdapat bangunan tua seperti, bekas kantor pusat industri gula zaman penjajahan Belanda. Di kawasan yang sudah ditata dengan Landmark BATIK, taman bermain, Lapangan untuk kegiatan pameran atau event budaya, bangunan-bangunan cagar budaya dan bangunan ibadah yang berada di sekitar kawasan Jetayu.\",\r\n            \"Museum Batik Pekalongan diresmikan oleh Presiden Republik Indonesia ke-6 Susilo Bambang Yudhoyono pada tanggal 12 Juli 2006. Bangunan Museum ini mempunyai luas sekitar 2500 m2 menempati lahan seluas 3675 m2. Bangunan yang ditempati adalah bangunan peninggalan Belanda yang telah berdiri sejak tahun 1906 yang pada awalnya berfungsi sebagai kantor administrasi keuangan pabrik gula yang berada di sekitar area karisidenan Pekalongan. Pada perkembangannya, gedung ini mengalami beberapakali perubahan fungsi sebagai Balai Kota, Kantor Walikota, hingga komplek perkantoran Pemerintah Kota. Museum Batik Pekalongan menyimpan banyak koleksi batik tua hingga modern baik itu yang berasal dari daerah pesisiran, daerah pedalaman dan area Jawa lainnya, batik dari berbagai daerah di Nusantaara seperti dari Sumatera, Kalimantan, hingga Papua, dan kain jenis teknik batik dari manca negara.\",\r\n            \"Selain untuk melakukan pencegahan terhadap ancaman abrasi air laut yang semakin menggerus daratan yang ada di wilayah ini, Pekalongan Mangrove Park juga difungsikan sebagai tempat wisata. Selain bisa menikmati pemandangan pohon-pohon bakau yang hijau, di Mangrove Park ini kita juga bisa berkeliling menyusuri lorong-lorong rawa diantara pohon mangrove yang biasa disebut dengan lorong cinta menggunakan kapal yang bisa disewa. Pohon-pohon mangrove yang ada di tempat ini tidak hanya ditanam oleh pemerintah saja, tetapi juga oleh beberapa kalangan yang peduli terhadap lingkungan di Pekalongan. Pihak pengelola siap menerima siapa saja yang ingin ikut berpartisipasi menanam pohon mangrove.\"\r\n    };\r\n    public static String[] destiaddress = {\r\n            \"4M5G+PG4, Keputran, Kec. Pekalongan Tim., Kota Pekalongan, Jawa Tengah 51128\",\r\n            \"4MCF+HW3, Jl. Jatayu, Kauman, Kec. Pekalongan Tim., Kota Pekalongan, Jawa Tengah 51149\",\r\n            \"Jl. Jetayu No.3, Panjang Wetan, Kec. Pekalongan Utara, Kota Pekalongan, Jawa Tengah 51141\",\r\n            \"4MRG+M27, Kandang Panjang, Kec. Pekalongan Utara, Kota Pekalongan, Jawa Tengah 51149\"\r\n    };\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/ItemList/DestinationItem.java b/app/src/main/java/com/binus/pekalongancityguide/ItemList/DestinationItem.java
--- a/app/src/main/java/com/binus/pekalongancityguide/ItemList/DestinationItem.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/java/com/binus/pekalongancityguide/ItemList/DestinationItem.java	(date 1679129313881)
@@ -34,4 +34,22 @@
             "Jl. Jetayu No.3, Panjang Wetan, Kec. Pekalongan Utara, Kota Pekalongan, Jawa Tengah 51141",
             "4MRG+M27, Kandang Panjang, Kec. Pekalongan Utara, Kota Pekalongan, Jawa Tengah 51149"
     };
+    public static double[] destiLat = {
+            -6.890605027590413,
+            -6.878492166014722,
+            -6.878460211172696,
+            -6.858141957826265,
+    };
+    public static double[] destiLong = {
+            109.67643115647243,
+            109.67476847842183,
+            109.67545512393117,
+            109.67507811229183
+    };
+    public static String[] destiTitle = {
+            "Alun-alun Kota Pekalongan",
+            "Kawasan Budaya Jetayu",
+            "Museum Batik Pekalongan",
+            "Kawasan Wisata Taman Mangrove"
+    };
 }
Index: app/src/main/res/layout/activity_destination_details.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/palette_4\"\r\n    tools:context=\".Layout.DestinationDetails\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_margin=\"10dp\"\r\n        android:orientation=\"vertical\"\r\n        android:padding=\"5dp\">\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n            <ImageButton\r\n                android:id=\"@+id/backDestination\"\r\n                android:layout_gravity=\"start\"\r\n                android:layout_width=\"48dp\"\r\n                android:layout_height=\"48dp\"\r\n                android:background=\"#0000\"\r\n                android:src=\"@drawable/back_icon\" />\r\n\r\n            <TextView\r\n                android:layout_marginStart=\"-20dp\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:gravity=\"center\"\r\n                android:text=\"Destination Details\"\r\n                android:textColor=\"@color/palette_1\"\r\n                android:textSize=\"20dp\"\r\n                android:textStyle=\"bold\" />\r\n        </LinearLayout>\r\n\r\n        <androidx.cardview.widget.CardView xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"200dp\"\r\n            android:layout_margin=\"8dp\"\r\n            app:cardCornerRadius=\"16dp\"\r\n            app:cardElevation=\"5dp\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/ddimg\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:background=\"@drawable/desti4\" />\r\n\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"8dp\"\r\n            app:cardBackgroundColor=\"@color/palette_3\"\r\n            app:cardCornerRadius=\"6dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:contentPaddingBottom=\"10dp\"\r\n            app:contentPaddingLeft=\"20dp\"\r\n            app:contentPaddingRight=\"20dp\"\r\n            app:contentPaddingTop=\"10dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <TextView\r\n                    android:textSize=\"18dp\"\r\n                    android:id=\"@+id/ddname\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Destination Name\"\r\n                    android:textColor=\"@color/palette_1\"\r\n                    android:textStyle=\"bold\" />\r\n\r\n                <TextView\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:id=\"@+id/dddesc\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:justificationMode=\"inter_word\"\r\n                    android:text=\"Destination Description\"\r\n                    android:textColor=\"@color/palette_1\" />\r\n\r\n                <TextView\r\n                    android:textStyle=\"bold\"\r\n                    android:id=\"@+id/ddadd\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:justificationMode=\"inter_word\"\r\n                    android:text=\"Destination Address\"\r\n                    android:textColor=\"@color/palette_1\" />\r\n\r\n                <Button\r\n                    android:id=\"@+id/save_btn\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"20dp\"\r\n                    android:drawableLeft=\"@drawable/bookmark\"\r\n                    android:drawableTint=\"@color/palette_4\"\r\n                    android:text=\"Save Item\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/palette_4\" />\r\n\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n    </LinearLayout>\r\n</ScrollView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_destination_details.xml b/app/src/main/res/layout/activity_destination_details.xml
--- a/app/src/main/res/layout/activity_destination_details.xml	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/res/layout/activity_destination_details.xml	(date 1679124640298)
@@ -95,6 +95,14 @@
                     android:justificationMode="inter_word"
                     android:text="Destination Address"
                     android:textColor="@color/palette_1" />
+                <fragment
+                    android:layout_marginTop="20dp"
+                    android:layout_marginBottom="20dp"
+                    android:layout_width="match_parent"
+                    android:layout_height="200dp"
+                    android:id="@+id/map"
+                    android:name="com.google.android.gms.maps.SupportMapFragment">
+                </fragment>
 
                 <Button
                     android:id="@+id/save_btn"
Index: .idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06__Changes_.xml	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ /dev/null	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_10_03_2023_15_06_[Changes]" date="1678435609286" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 10/03/2023 15:06 [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_10_03_2023_15_06_[Changes]/shelved.patch	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ /dev/null	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
@@ -1,23 +0,0 @@
-Index: app/src/main/res/layout/list_destination.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_margin=\"8dp\"\r\n    app:cardCornerRadius=\"10dp\"\r\n    app:cardElevation=\"3dp\"\r\n    android:clickable=\"true\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/layoutImage\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"250dp\"\r\n        android:background=\"@drawable/test\"\r\n        android:backgroundTint=\"@color/palette_4\"\r\n        android:backgroundTintMode=\"multiply\"\r\n        >\r\n        <TextView\r\n            android:id=\"@+id/loc_name\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginStart=\"21.5dp\"\r\n            android:layout_marginBottom=\"19dp\"\r\n            android:text=\"Monumen Nasional\"\r\n            android:textColor=\"@color/alfa\"\r\n            android:textSize=\"24dp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/loc_name2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"20dp\"\r\n            android:text=\"Monumen Nasional\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"24dp\"\r\n            android:textStyle=\"bold\" />\r\n        <TextView\r\n            android:id=\"@+id/loc_desc\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"/>\r\n        <TextView\r\n            android:id=\"@+id/loc_address\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"/>\r\n    </RelativeLayout>\r\n</androidx.cardview.widget.CardView>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/list_destination.xml b/app/src/main/res/layout/list_destination.xml
---- a/app/src/main/res/layout/list_destination.xml	(revision e1c3faef7163ae1114b041bc781a569754f205e9)
-+++ b/app/src/main/res/layout/list_destination.xml	(date 1678429164604)
-@@ -40,10 +40,12 @@
-             android:textSize="24dp"
-             android:textStyle="bold" />
-         <TextView
-+            android:visibility="invisible"
-             android:id="@+id/loc_desc"
-             android:layout_width="wrap_content"
-             android:layout_height="wrap_content"/>
-         <TextView
-+            android:visibility="invisible"
-             android:id="@+id/loc_address"
-             android:layout_width="wrap_content"
-             android:layout_height="wrap_content"/>
Index: app/src/main/java/com/binus/pekalongancityguide/User.java
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/User.java b/app/src/main/java/com/binus/pekalongancityguide/User.java
deleted file mode 100644
--- a/app/src/main/java/com/binus/pekalongancityguide/User.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ /dev/null	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
@@ -1,42 +0,0 @@
-package com.binus.pekalongancityguide;
-
-public class User {
-    private String userId;
-    private String username;
-    private String imageUrl;
-
-    public User() {
-        // Default constructor required for calls to DataSnapshot.getValue(User.class)
-    }
-
-    public User(String userId, String username, String imageUrl) {
-        this.userId = userId;
-        this.username = username;
-        this.imageUrl = imageUrl;
-    }
-
-    public String getUserId() {
-        return userId;
-    }
-
-    public void setUserId(String userId) {
-        this.userId = userId;
-    }
-
-    public String getUsername() {
-        return username;
-    }
-
-    public void setUsername(String username) {
-        this.username = username;
-    }
-
-    public String getImageUrl() {
-        return imageUrl;
-    }
-
-    public void setImageUrl(String imageUrl) {
-        this.imageUrl = imageUrl;
-    }
-}
-
Index: app/src/main/java/com/binus/pekalongancityguide/EditProfile.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.ProgressDialog;\r\nimport android.content.ContentResolver;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.binus.pekalongancityguide.Layout.MainActivity;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.OnProgressListener;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\n\r\npublic class EditProfile extends AppCompatActivity {\r\n    private static final int REQUEST_IMAGE_CAPTURE = 1;\r\n    private static final int REQUEST_IMAGE_PICK = 2;\r\n    private ImageView mImageView;\r\n    private EditText mUsernameEditText;\r\n    private Button mSaveProfileButton;\r\n    private Uri mImageUri;\r\n    private DatabaseReference mDatabaseRef;\r\n    private StorageReference mStorageRef;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit_profile);\r\n\r\n        mImageView = findViewById(R.id.edit_image);\r\n        mUsernameEditText = findViewById(R.id.edit_name);\r\n        mSaveProfileButton = findViewById(R.id.update_profile);\r\n\r\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference(\"users\");\r\n        mStorageRef = FirebaseStorage.getInstance().getReference(\"user_profile_images\");\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        mImageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showImagePickerDialog();\r\n            }\r\n        });\r\n\r\n        mSaveProfileButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                saveProfile();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showImagePickerDialog() {\r\n        final CharSequence[] options = {\"Take Photo\", \"Choose From Gallery\", \"Cancel\"};\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(EditProfile.this);\r\n        builder.setTitle(\"Choose your profile picture\");\r\n\r\n        builder.setItems(options, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n                if (options[i].equals(\"Take Photo\")) {\r\n                    dispatchTakePictureIntent();\r\n                } else if (options[i].equals(\"Choose From Gallery\")) {\r\n                    pickImageFromGallery();\r\n                } else if (options[i].equals(\"Cancel\")) {\r\n                    dialogInterface.dismiss();\r\n                }\r\n            }\r\n        });\r\n        builder.show();\r\n    }\r\n\r\n    private void dispatchTakePictureIntent() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n        }\r\n    }\r\n\r\n    private void pickImageFromGallery() {\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        startActivityForResult(intent, REQUEST_IMAGE_PICK);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (resultCode == RESULT_OK) {\r\n            if (requestCode == REQUEST_IMAGE_CAPTURE && data != null) {\r\n                Bundle extras = data.getExtras();\r\n                Bitmap imageBitmap = (Bitmap) extras.get(\"data\");\r\n                mImageView.setImageBitmap(imageBitmap);\r\n                mImageUri = getImageUri(getApplicationContext(), imageBitmap);\r\n            } else if (requestCode == REQUEST_IMAGE_PICK && data != null) {\r\n                mImageUri = data.getData();\r\n                mImageView.setImageURI(mImageUri);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void saveProfile() {\r\n        String username = mUsernameEditText.getText().toString().trim();\r\n        if (TextUtils.isEmpty(username)) {\r\n            Toast.makeText(this, \"Please enter a username\", Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        final String userId = mAuth.getCurrentUser().getUid();\r\n\r\n        if (mImageUri != null) {\r\n            final ProgressDialog progressDialog = new ProgressDialog(this);\r\n            progressDialog.setTitle(\"Uploading image...\");\r\n            progressDialog.show();\r\n\r\n            // Delete old image from storage\r\n            mStorageRef.child(userId).delete().addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<Void> task) {\r\n                    // Upload new image to storage\r\n                    StorageReference fileRef = mStorageRef.child(userId + \".\" + getFileExtension(mImageUri));\r\n                    fileRef.putFile(mImageUri)\r\n                            .addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                                @Override\r\n                                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                    fileRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {\r\n                                        @Override\r\n                                        public void onSuccess(Uri uri) {\r\n                                            final String imageUrl = uri.toString();\r\n                                            User user = new User(userId, username, imageUrl);\r\n                                            mDatabaseRef.child(userId).setValue(user)\r\n                                                    .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                                        @Override\r\n                                                        public void onSuccess(Void aVoid) {\r\n                                                            Toast.makeText(EditProfile.this, \"Profile updated successfully\", Toast.LENGTH_SHORT).show();\r\n                                                            // Dismiss the progress dialog\r\n                                                            progressDialog.dismiss();\r\n                                                            startActivity(new Intent(EditProfile.this, MainActivity.class));\r\n                                                            finish();\r\n                                                        }\r\n                                                    })\r\n                                                    .addOnFailureListener(new OnFailureListener() {\r\n                                                        @Override\r\n                                                        public void onFailure(@NonNull Exception e) {\r\n                                                            Toast.makeText(EditProfile.this, \"Failed to update profile\", Toast.LENGTH_SHORT).show();\r\n                                                            // Dismiss the progress dialog\r\n                                                            progressDialog.dismiss();\r\n                                                        }\r\n                                                    });\r\n                                        }\r\n                                    });\r\n                                }\r\n                            })\r\n                            .addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Toast.makeText(EditProfile.this, \"Failed to upload image\", Toast.LENGTH_SHORT).show();\r\n                                    // Dismiss the progress dialog\r\n                                    progressDialog.dismiss();\r\n                                }\r\n                            })\r\n                            .addOnProgressListener(new OnProgressListener<UploadTask.TaskSnapshot>() {\r\n                                @Override\r\n                                public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\r\n                                    double progress = (100.0 * snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\r\n                                    progressDialog.setMessage(\"Uploaded \" + (int) progress + \"%\");\r\n                                }\r\n                            });\r\n                }\r\n            });\r\n        } else {\r\n            // Update username only\r\n            User user = new User(userId, username, null);\r\n            mDatabaseRef.child(userId).setValue(user)\r\n                    .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            Toast.makeText(EditProfile.this, \"Profile updated successfully\", Toast.LENGTH_SHORT).show();\r\n                            startActivity(new Intent(EditProfile.this, MainActivity.class));\r\n                            finish();\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(EditProfile.this, \"Failed to update profile\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n    private Uri getImageUri(Context context, Bitmap bitmap) {\r\n        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, bytes);\r\n        String path = MediaStore.Images.Media.insertImage(context.getContentResolver(), bitmap, \"Profile Picture\", null);\r\n        return Uri.parse(path);\r\n    }\r\n\r\n    private String getFileExtension(Uri uri) {\r\n        ContentResolver contentResolver = getContentResolver();\r\n        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\r\n        return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/EditProfile.java b/app/src/main/java/com/binus/pekalongancityguide/EditProfile.java
--- a/app/src/main/java/com/binus/pekalongancityguide/EditProfile.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/java/com/binus/pekalongancityguide/EditProfile.java	(date 1679120192189)
@@ -1,232 +1,239 @@
 package com.binus.pekalongancityguide;
 
-import android.app.AlertDialog;
+import androidx.activity.result.ActivityResult;
+import androidx.activity.result.ActivityResultCallback;
+import androidx.activity.result.ActivityResultLauncher;
+import androidx.activity.result.contract.ActivityResultContracts;
+import androidx.annotation.NonNull;
+import androidx.appcompat.app.AppCompatActivity;
+
+import android.app.Activity;
 import android.app.ProgressDialog;
-import android.content.ContentResolver;
-import android.content.Context;
-import android.content.DialogInterface;
+import android.content.ContentValues;
 import android.content.Intent;
-import android.graphics.Bitmap;
 import android.net.Uri;
 import android.os.Bundle;
 import android.provider.MediaStore;
 import android.text.TextUtils;
+import android.util.Log;
+import android.view.Menu;
+import android.view.MenuItem;
 import android.view.View;
-import android.webkit.MimeTypeMap;
-import android.widget.Button;
-import android.widget.EditText;
-import android.widget.ImageView;
+import android.widget.PopupMenu;
 import android.widget.Toast;
 
-import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
-import androidx.appcompat.app.AppCompatActivity;
-
-import com.binus.pekalongancityguide.Layout.MainActivity;
-import com.google.android.gms.tasks.OnCompleteListener;
+import com.binus.pekalongancityguide.Layout.MyApplication;
+import com.binus.pekalongancityguide.Layout.ProfileFragment;
+import com.binus.pekalongancityguide.databinding.ActivityEditProfileBinding;
+import com.bumptech.glide.Glide;
 import com.google.android.gms.tasks.OnFailureListener;
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.gms.tasks.Task;
 import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
 import com.google.firebase.storage.FirebaseStorage;
-import com.google.firebase.storage.OnProgressListener;
 import com.google.firebase.storage.StorageReference;
 import com.google.firebase.storage.UploadTask;
 
-import java.io.ByteArrayOutputStream;
+import java.util.HashMap;
 
 public class EditProfile extends AppCompatActivity {
-    private static final int REQUEST_IMAGE_CAPTURE = 1;
-    private static final int REQUEST_IMAGE_PICK = 2;
-    private ImageView mImageView;
-    private EditText mUsernameEditText;
-    private Button mSaveProfileButton;
-    private Uri mImageUri;
-    private DatabaseReference mDatabaseRef;
-    private StorageReference mStorageRef;
-    private FirebaseAuth mAuth;
-
+    private ActivityEditProfileBinding binding;
+    private FirebaseAuth firebaseAuth;
+    private static final String TAG = "PROFILE_EDIT_TAG";
+    private Uri imguri = null;
+    private String name = "";
+    private ProgressDialog progressDialog;
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
-        setContentView(R.layout.activity_edit_profile);
-
-        mImageView = findViewById(R.id.edit_image);
-        mUsernameEditText = findViewById(R.id.edit_name);
-        mSaveProfileButton = findViewById(R.id.update_profile);
+        binding = ActivityEditProfileBinding.inflate(getLayoutInflater());
+        setContentView(binding.getRoot());
+        progressDialog = new ProgressDialog(this);
+        progressDialog.setTitle("Please Wait");
+        progressDialog.setCanceledOnTouchOutside(false);
 
-        mDatabaseRef = FirebaseDatabase.getInstance().getReference("users");
-        mStorageRef = FirebaseStorage.getInstance().getReference("user_profile_images");
-        mAuth = FirebaseAuth.getInstance();
+        firebaseAuth = FirebaseAuth.getInstance();
+        getInfo();
 
-        mImageView.setOnClickListener(new View.OnClickListener() {
-            @Override
-            public void onClick(View view) {
-                showImagePickerDialog();
-            }
+        binding.backProfile.setOnClickListener(v -> {
+            onBackPressed();
         });
 
-        mSaveProfileButton.setOnClickListener(new View.OnClickListener() {
-            @Override
-            public void onClick(View view) {
-                saveProfile();
-            }
+        binding.editImage.setOnClickListener(v -> {
+            showImage();
         });
-    }
-
-    private void showImagePickerDialog() {
-        final CharSequence[] options = {"Take Photo", "Choose From Gallery", "Cancel"};
-        AlertDialog.Builder builder = new AlertDialog.Builder(EditProfile.this);
-        builder.setTitle("Choose your profile picture");
-
-        builder.setItems(options, new DialogInterface.OnClickListener() {
-            @Override
-            public void onClick(DialogInterface dialogInterface, int i) {
-                if (options[i].equals("Take Photo")) {
-                    dispatchTakePictureIntent();
-                } else if (options[i].equals("Choose From Gallery")) {
-                    pickImageFromGallery();
-                } else if (options[i].equals("Cancel")) {
-                    dialogInterface.dismiss();
-                }
-            }
+        binding.updateProfile.setOnClickListener(v -> {
+            validatedata();
         });
-        builder.show();
     }
 
-    private void dispatchTakePictureIntent() {
-        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
-        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {
-            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);
-        }
-    }
-
-    private void pickImageFromGallery() {
-        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
-        startActivityForResult(intent, REQUEST_IMAGE_PICK);
+    private void validatedata() {
+        name = binding.editName.getText().toString().trim();
+        if(TextUtils.isEmpty(name)){
+            Toast.makeText(this, "Enter new name", Toast.LENGTH_SHORT).show();
+        }else{
+            if(imguri==null){
+                updateProfile("");
+            }else{
+                uploadImage();
+            }
+        }
     }
 
-    @Override
-    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {
-        super.onActivityResult(requestCode, resultCode, data);
-
-        if (resultCode == RESULT_OK) {
-            if (requestCode == REQUEST_IMAGE_CAPTURE && data != null) {
-                Bundle extras = data.getExtras();
-                Bitmap imageBitmap = (Bitmap) extras.get("data");
-                mImageView.setImageBitmap(imageBitmap);
-                mImageUri = getImageUri(getApplicationContext(), imageBitmap);
-            } else if (requestCode == REQUEST_IMAGE_PICK && data != null) {
-                mImageUri = data.getData();
-                mImageView.setImageURI(mImageUri);
-            }
-        }
-    }
-
-    private void saveProfile() {
-        String username = mUsernameEditText.getText().toString().trim();
-        if (TextUtils.isEmpty(username)) {
-            Toast.makeText(this, "Please enter a username", Toast.LENGTH_SHORT).show();
-            return;
-        }
-
-        final String userId = mAuth.getCurrentUser().getUid();
-
-        if (mImageUri != null) {
-            final ProgressDialog progressDialog = new ProgressDialog(this);
-            progressDialog.setTitle("Uploading image...");
-            progressDialog.show();
+    private void updateProfile(String imageUri) {
+        Log.d(TAG, "Update profile: updating user profile");
+        progressDialog.setMessage("updating user profile...");
+        progressDialog.show();
+        HashMap<String, Object> hashMap = new HashMap<>();
+        hashMap.put("Username",""+name);
+        if(imguri != null){
+            hashMap.put("profileImage",""+imageUri);
+        }
+        DatabaseReference reference = FirebaseDatabase.getInstance("https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/").getReference("Users");
+        reference.child(firebaseAuth.getUid())
+                .updateChildren(hashMap)
+                .addOnSuccessListener(unused -> {
+                    Log.d(TAG, "on Success: Profile updated");
+                    progressDialog.dismiss();
+                    Toast.makeText(this, "Profile updated", Toast.LENGTH_SHORT).show();
+
+                })
+                .addOnFailureListener(e -> {
+                    Log.d(TAG, "on Success: Failed to update db due to"+e.getMessage());
+                    progressDialog.dismiss();
+                    Toast.makeText(this, "Failed to update db due to"+e.getMessage(), Toast.LENGTH_SHORT).show();
+                });
+    }
 
-            // Delete old image from storage
-            mStorageRef.child(userId).delete().addOnCompleteListener(new OnCompleteListener<Void>() {
-                @Override
-                public void onComplete(@NonNull Task<Void> task) {
-                    // Upload new image to storage
-                    StorageReference fileRef = mStorageRef.child(userId + "." + getFileExtension(mImageUri));
-                    fileRef.putFile(mImageUri)
-                            .addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
-                                @Override
-                                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {
-                                    fileRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {
-                                        @Override
-                                        public void onSuccess(Uri uri) {
-                                            final String imageUrl = uri.toString();
-                                            User user = new User(userId, username, imageUrl);
-                                            mDatabaseRef.child(userId).setValue(user)
-                                                    .addOnSuccessListener(new OnSuccessListener<Void>() {
-                                                        @Override
-                                                        public void onSuccess(Void aVoid) {
-                                                            Toast.makeText(EditProfile.this, "Profile updated successfully", Toast.LENGTH_SHORT).show();
-                                                            // Dismiss the progress dialog
-                                                            progressDialog.dismiss();
-                                                            startActivity(new Intent(EditProfile.this, MainActivity.class));
-                                                            finish();
-                                                        }
-                                                    })
-                                                    .addOnFailureListener(new OnFailureListener() {
-                                                        @Override
-                                                        public void onFailure(@NonNull Exception e) {
-                                                            Toast.makeText(EditProfile.this, "Failed to update profile", Toast.LENGTH_SHORT).show();
-                                                            // Dismiss the progress dialog
-                                                            progressDialog.dismiss();
-                                                        }
-                                                    });
-                                        }
-                                    });
-                                }
-                            })
-                            .addOnFailureListener(new OnFailureListener() {
-                                @Override
-                                public void onFailure(@NonNull Exception e) {
-                                    Toast.makeText(EditProfile.this, "Failed to upload image", Toast.LENGTH_SHORT).show();
-                                    // Dismiss the progress dialog
-                                    progressDialog.dismiss();
-                                }
-                            })
-                            .addOnProgressListener(new OnProgressListener<UploadTask.TaskSnapshot>() {
-                                @Override
-                                public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {
-                                    double progress = (100.0 * snapshot.getBytesTransferred() / snapshot.getTotalByteCount());
-                                    progressDialog.setMessage("Uploaded " + (int) progress + "%");
-                                }
-                            });
-                }
-            });
-        } else {
-            // Update username only
-            User user = new User(userId, username, null);
-            mDatabaseRef.child(userId).setValue(user)
-                    .addOnSuccessListener(new OnSuccessListener<Void>() {
-                        @Override
-                        public void onSuccess(Void aVoid) {
-                            Toast.makeText(EditProfile.this, "Profile updated successfully", Toast.LENGTH_SHORT).show();
-                            startActivity(new Intent(EditProfile.this, MainActivity.class));
-                            finish();
-                        }
-                    })
-                    .addOnFailureListener(new OnFailureListener() {
-                        @Override
-                        public void onFailure(@NonNull Exception e) {
-                            Toast.makeText(EditProfile.this, "Failed to update profile", Toast.LENGTH_SHORT).show();
-                        }
-                    });
-        }
-    }
+    private void uploadImage() {
+        Log.d(TAG,"UploadImage: Uploading profile image..");
+        progressDialog.setMessage("Updating profile image");
+        progressDialog.show();
+
+        String filePathAndName = "ProfileImages/"+firebaseAuth.getUid();
+        StorageReference storageReference = FirebaseStorage.getInstance("https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/").getReference(filePathAndName);
+        storageReference.putFile(imguri)
+                .addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
+                    @Override
+                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {
+                        Log.d(TAG, "on Success: Profile image uploaded");
+                        Log.d(TAG, "on Success: Getting url of the uploaded image");
+                        Task<Uri> uriTask = taskSnapshot.getStorage().getDownloadUrl();
+                        while (!uriTask.isSuccessful());
+                        String uploadedImageUrl = ""+uriTask.getResult();
+                        Log.d(TAG, "on Success: Uploaded image url:"+uploadedImageUrl);
+                        updateProfile(uploadedImageUrl);
+                    }
+                })
+                .addOnFailureListener(new OnFailureListener() {
+                    @Override
+                    public void onFailure(@NonNull Exception e) {
+                        Log.d(TAG, "on Failure: Failed to upload image due to"+e.getMessage());
+                        progressDialog.dismiss();
+                        Toast.makeText(EditProfile.this, "on Failure: Failed to upload image due to"+e.getMessage(), Toast.LENGTH_SHORT).show();
+                    }
+                });
+    }
+
+    private void showImage() {
+        PopupMenu popupMenu = new PopupMenu(this,binding.editImage);
+        popupMenu.getMenu().add(Menu.NONE,0,0,"Camera");
+        popupMenu.getMenu().add(Menu.NONE,1,1,"Gallery");
+        popupMenu.show();
+        popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {
+            @Override
+            public boolean onMenuItemClick(MenuItem item) {
+                int which = item.getItemId();
+                if(which==0){
+                    pickImageCamera();
+                }else if(which==1){
+                    pickImageGallery();
+                }
+                return false;
+            }
+        });
+    }
+
+    private void pickImageCamera() {
+        ContentValues values = new ContentValues();
+        values.put(MediaStore.Images.Media.TITLE,"new Pick");
+        values.put(MediaStore.Images.Media.DESCRIPTION,"Image Description");
+        imguri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,values);
+
+        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
+        intent.putExtra(MediaStore.EXTRA_OUTPUT, imguri);
+        cameraResultActivityLauncher.launch(intent);
+    }
+
+    private void pickImageGallery() {
+        Intent intent = new Intent(Intent.ACTION_PICK);
+        intent.setType("image/*");
+        galleryResultActivityLauncher.launch(intent);
+    }
+    private ActivityResultLauncher<Intent> cameraResultActivityLauncher = registerForActivityResult(
+            new ActivityResultContracts.StartActivityForResult(),
+            new ActivityResultCallback<ActivityResult>() {
+                @Override
+                public void onActivityResult(ActivityResult result) {
+                    if(result.getResultCode()== Activity.RESULT_OK){
+                        Log.d(TAG,"onActivityResult: "+imguri);
+                        Intent data = result.getData();
+                        binding.editImage.setImageURI(imguri);
+                    }else{
+                        Toast.makeText(EditProfile.this, "Cancelled", Toast.LENGTH_SHORT).show();
+                    }
+                }
+            }
+    );
+    private ActivityResultLauncher<Intent> galleryResultActivityLauncher = registerForActivityResult(
+            new ActivityResultContracts.StartActivityForResult(),
+            new ActivityResultCallback<ActivityResult>() {
+                @Override
+                public void onActivityResult(ActivityResult result) {
+                    if(result.getResultCode()== Activity.RESULT_OK){
+                        Log.d(TAG,"onActivityResult: "+imguri);
+                        Intent data = result.getData();
+                        imguri = data.getData();
+                        Log.d(TAG,"onActivityResult: Picked from Gallery"+imguri);
+                        binding.editImage.setImageURI(imguri);
+                    }else{
+                        Toast.makeText(EditProfile.this, "Cancelled", Toast.LENGTH_SHORT).show();
+                    }
+                }
+            }
+    );
+    private void getInfo(){
+        Log.e(TAG,"Loading User Info..."+firebaseAuth.getUid());
+        FirebaseDatabase database = FirebaseDatabase.getInstance("https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/");
+        DatabaseReference r = database.getReference("Users");
+        r.child(firebaseAuth.getUid())
+                .addValueEventListener(new ValueEventListener() {
+                    @Override
+                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                        String email = ""+snapshot.child("Email").getValue();
+                        String name = ""+snapshot.child("Username").getValue();
+                        String profile_img = ""+snapshot.child("profileImage").getValue();
+                        String timestamp = ""+snapshot.child("timestamp").getValue();
+                        String userId = ""+snapshot.child("uid").getValue();
+                        String formatDate = MyApplication.formatTimeStamp(Long.parseLong(timestamp));
+                        String type = ""+snapshot.child("userType").getValue();
 
-    private Uri getImageUri(Context context, Bitmap bitmap) {
-        ByteArrayOutputStream bytes = new ByteArrayOutputStream();
-        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, bytes);
-        String path = MediaStore.Images.Media.insertImage(context.getContentResolver(), bitmap, "Profile Picture", null);
-        return Uri.parse(path);
-    }
+                        binding.editName.setText(name);
+                        Glide.with(EditProfile.this)
+                                .load(profile_img)
+                                .placeholder(R.drawable.person)
+                                .into(binding.editImage);
+                    }
+                    @Override
+                    public void onCancelled(@NonNull DatabaseError error) {
 
-    private String getFileExtension(Uri uri) {
-        ContentResolver contentResolver = getContentResolver();
-        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();
-        return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));
-    }
-
+                    }
+                });
 
-}
+    }
+}
\ No newline at end of file
Index: app/src/main/res/layout/activity_admin_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_admin_home.xml b/app/src/main/res/layout/activity_admin_home.xml
new file mode 100644
--- /dev/null	(date 1679120849113)
+++ b/app/src/main/res/layout/activity_admin_home.xml	(date 1679120849113)
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical"
+    android:gravity="center_vertical"
+    tools:context=".AdminHome">
+
+    <TextView
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:text="ADMIN HOME"
+        android:textSize="30dp"/>
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/binus/pekalongancityguide/Layout/ProfileFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Layout;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.binus.pekalongancityguide.EditProfile;\r\nimport com.binus.pekalongancityguide.R;\r\nimport com.binus.pekalongancityguide.databinding.FragmentProfileBinding;\r\nimport com.bumptech.glide.Glide;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class ProfileFragment extends Fragment {\r\n    Button logout;\r\n    FragmentProfileBinding binding;\r\n    private FirebaseAuth firebaseAuth;\r\n    private static final String TAG = \"PROFILE_TAG\";\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        binding = FragmentProfileBinding.inflate(inflater, container, false);\r\n         View view = binding.getRoot();\r\n        logout = view.findViewById(R.id.logout_btn);\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        getInfo();\r\n\r\n        binding.editName.setOnClickListener(v -> {\r\n            startActivity(new Intent(getActivity(), EditProfile.class));\r\n        });\r\n        binding.logoutBtn.setOnClickListener(v -> {\r\n            startActivity(new Intent(getActivity(),MainActivity.class));\r\n            getActivity().finish();\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private void getInfo(){\r\n        Log.e(TAG,\"Loading User Info...\"+firebaseAuth.getUid());\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\");\r\n        DatabaseReference r = database.getReference(\"Users\");\r\n        r.child(firebaseAuth.getUid())\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        String email = \"\"+snapshot.child(\"Email\").getValue();\r\n                        String name = \"\"+snapshot.child(\"Username\").getValue();\r\n                        String profile_img = \"\" + snapshot.child(\"profileImage\").getValue();\r\n                        String timestamp = \"\" + snapshot.child(\"timestamp\").getValue();\r\n                        String userId = \"\" + snapshot.child(\"uid\").getValue();\r\n                        String formatDate = MyApplication.formatTimeStamp(Long.parseLong(timestamp));\r\n                        String type = \"\" + snapshot.child(\"userType\").getValue();\r\n\r\n                        binding.profileEmail.setText(email);\r\n                        binding.profileUser.setText(name);\r\n                        binding.profileJoined.setText(formatDate);\r\n                        binding.profileType.setText(type);\r\n                        if (isAdded()) {\r\n                            String imageUrl = snapshot.child(\"photo_url\").getValue(String.class);\r\n                            if (imageUrl != null) {\r\n                                Glide.with(ProfileFragment.this)\r\n                                        .load(profile_img)\r\n                                        .placeholder(R.drawable.person)\r\n                                        .centerCrop()\r\n                                        .into(binding.profileImg);\r\n\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Layout/ProfileFragment.java b/app/src/main/java/com/binus/pekalongancityguide/Layout/ProfileFragment.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Layout/ProfileFragment.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Layout/ProfileFragment.java	(date 1679123436321)
@@ -24,7 +24,7 @@
 
 public class ProfileFragment extends Fragment {
     Button logout;
-    FragmentProfileBinding binding;
+    private FragmentProfileBinding binding;
     private FirebaseAuth firebaseAuth;
     private static final String TAG = "PROFILE_TAG";
 
@@ -78,10 +78,8 @@
                                         .placeholder(R.drawable.person)
                                         .centerCrop()
                                         .into(binding.profileImg);
-
                             }
                         }
-
                     }
                     @Override
                     public void onCancelled(@NonNull DatabaseError error) {
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'com.google.gms.google-services'\r\n}\r\n\r\nandroid {\r\n    compileSdk 33\r\n\r\n    buildFeatures {\r\n        dataBinding true\r\n    }\r\n    defaultConfig {\r\n        applicationId \"com.binus.pekalongancityguide\"\r\n        minSdk 23\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    namespace 'com.binus.pekalongancityguide'\r\n}\r\n\r\ndependencies {\r\n    implementation 'androidx.appcompat:appcompat:1.6.1'\r\n    implementation 'com.google.android.material:material:1.8.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\r\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\r\n    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.2.0'\r\n    implementation 'com.google.android.material:material:1.9.0-alpha02'\r\n    implementation 'com.github.denzcoskun:ImageSlideShow:0.1.0'\r\n    implementation 'com.github.chetankoli1.BottomNavigation:chetanbottomnavigation:0.0.3'\r\n    implementation 'com.github.bumptech.glide:glide:4.15.0'\r\n    implementation 'com.squareup.okhttp3:okhttp:4.9.3'\r\n    implementation 'com.google.code.gson:gson:2.9.0'\r\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\r\n    implementation 'com.google.firebase:firebase-database:20.1.0'\r\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\r\n    implementation 'com.squareup.picasso:picasso:2.71828'\r\n    testImplementation 'junit:junit:4.13.2'\r\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.15.0'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/build.gradle	(date 1679124746105)
@@ -1,6 +1,7 @@
 plugins {
     id 'com.android.application'
     id 'com.google.gms.google-services'
+    id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin'
 }
 
 android {
@@ -47,6 +48,7 @@
     implementation 'com.google.firebase:firebase-auth:21.1.0'
     implementation 'com.google.firebase:firebase-database:20.1.0'
     implementation 'com.google.firebase:firebase-storage:20.1.0'
+    implementation 'com.google.android.gms:play-services-maps:18.1.0'
     implementation 'com.squareup.picasso:picasso:2.71828'
     testImplementation 'junit:junit:4.13.2'
     annotationProcessor 'com.github.bumptech.glide:compiler:4.15.0'
Index: app/src/main/java/com/binus/pekalongancityguide/Layout/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.binus.pekalongancityguide.Layout;\r\n\r\nimport android.Manifest;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.binus.pekalongancityguide.R;\r\nimport com.binus.pekalongancityguide.databinding.ActivityMainBinding;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n    private ActivityMainBinding binding;\r\n    Button login, noLogin;\r\n    EditText email, pass;\r\n    TextInputLayout til,etil;\r\n    FirebaseAuth firebaseAuth;\r\n    ProgressDialog progressDialog;\r\n    TextView register;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.setTitle(\"Please Wait\");\r\n        progressDialog.setCanceledOnTouchOutside(false);\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        FirebaseApp.initializeApp(this);\r\n\r\n        FirebaseDatabase.getInstance().getReference().keepSynced(true);\r\n\r\n        DatabaseReference myRef = database.getReference(\"path/to/data\");\r\n\r\n        init();\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n            // Camera permission is granted\r\n            Log.d(\"PERMISSION\", \"GRANTED\");\r\n        } else {\r\n            // Camera permission is not granted\r\n            Log.d(\"PERMISSION\", \"DENIED\");\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n\r\n        }\r\n\r\n\r\n        binding.noLogin.setOnClickListener(v -> startActivity(new Intent(MainActivity.this, Home.class)));\r\n        binding.loginBtn.setOnClickListener(v -> {\r\n            validate();\r\n            InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(v.getWindowToken(), 0);\r\n        });\r\n\r\n        binding.mainRegis.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, \"mainRegis is not null: \" + (binding.mainRegis != null));\r\n                Intent regisIntent = new Intent(MainActivity.this, Register.class);\r\n                startActivity(regisIntent);\r\n            }\r\n        });\r\n\r\n        til.getEditText().setOnFocusChangeListener((v, hasFocus) -> {\r\n            if (hasFocus) {\r\n                // The user has clicked on the text input layout\r\n                til.setPasswordVisibilityToggleEnabled(true);\r\n            } else {\r\n                // The user has left the text input layout\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    String Email, Password;\r\n    void init(){\r\n        login = findViewById(R.id.login_btn);\r\n        noLogin = findViewById(R.id.no_login);\r\n        email = findViewById(R.id.login_email);\r\n        pass = findViewById(R.id.login_pass);\r\n        til = findViewById(R.id.loginpass_til);\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        register = findViewById(R.id.main_regis);\r\n        etil = findViewById(R.id.loginemail_til);\r\n    }\r\n    void validate() {\r\n        Email = binding.loginEmail.getText().toString().trim();\r\n        Password = binding.loginPass.getText().toString().trim();\r\n        if (Email.isEmpty()) {\r\n            email.setError(\"All field must not be empty!\");\r\n        }\r\n        if (!Patterns.EMAIL_ADDRESS.matcher(Email).matches()) {\r\n            email.setError(\"Invalid Email Address!\");\r\n        }\r\n        if (Password.isEmpty()) {\r\n            pass.setError(\"All field must not be empty!\");\r\n            til.setPasswordVisibilityToggleEnabled(false);\r\n        } else {\r\n            tryLogin();\r\n        }\r\n    }\r\n\r\n    private void tryLogin() {\r\n        progressDialog.setMessage(\"Logging in..\");\r\n        progressDialog.show();\r\n\r\n        firebaseAuth.signInWithEmailAndPassword(Email,Password)\r\n                .addOnSuccessListener(authResult -> checkUser())\r\n                .addOnFailureListener(e -> {\r\n                    Snackbar.make(binding.getRoot(), e.getMessage(), Snackbar.LENGTH_SHORT).show();\r\n                    Handler handler = new Handler();\r\n                    handler.postDelayed(new Runnable() {\r\n                        public void run() {\r\n                            progressDialog.dismiss();\r\n                        }\r\n                    }, 2000);\r\n                });\r\n    }\r\n\r\n    private void checkUser() {\r\n        progressDialog.setMessage(\"Checking user..\");\r\n        FirebaseUser firebaseUser =firebaseAuth.getCurrentUser();\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance(\"https://pekalongan-city-guide-5bf2e-default-rtdb.asia-southeast1.firebasedatabase.app/\");\r\n        DatabaseReference databaseReference = database.getReference(\"Users\");\r\n        databaseReference.child(firebaseUser.getUid())\r\n                .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot snapshot) {\r\n                        progressDialog.dismiss();\r\n                        String userType =\"\"+snapshot.child(\"userType\").getValue();\r\n                        if(userType.equals(\"user\")){\r\n                            startActivity(new Intent(MainActivity.this,Home.class));\r\n                            finish();\r\n                        }else if(userType.equals(\"admin\")){\r\n                            startActivity(new Intent(MainActivity.this, Home.class));\r\n                            finish();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    // Request the camera permission\r\n    private void requestCameraPermission() {\r\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n    }\r\n\r\n    // Check if the camera permission is granted\r\n    private boolean isCameraPermissionGranted() {\r\n        return ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    // Handle the permission request result\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\r\n            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission granted, do something\r\n            } else {\r\n                // Permission denied, show a message or something\r\n            }\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/Layout/MainActivity.java b/app/src/main/java/com/binus/pekalongancityguide/Layout/MainActivity.java
--- a/app/src/main/java/com/binus/pekalongancityguide/Layout/MainActivity.java	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/java/com/binus/pekalongancityguide/Layout/MainActivity.java	(date 1679120849404)
@@ -19,6 +19,7 @@
 import androidx.core.app.ActivityCompat;
 import androidx.core.content.ContextCompat;
 
+import com.binus.pekalongancityguide.AdminHome;
 import com.binus.pekalongancityguide.R;
 import com.binus.pekalongancityguide.databinding.ActivityMainBinding;
 import com.google.android.material.snackbar.Snackbar;
@@ -163,7 +164,7 @@
                             startActivity(new Intent(MainActivity.this,Home.class));
                             finish();
                         }else if(userType.equals("admin")){
-                            startActivity(new Intent(MainActivity.this, Home.class));
+                            startActivity(new Intent(MainActivity.this, AdminHome.class));
                             finish();
                         }
                     }
Index: app/src/main/res/layout/list_destination.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_margin=\"8dp\"\r\n    app:cardCornerRadius=\"10dp\"\r\n    app:cardElevation=\"3dp\"\r\n    android:clickable=\"true\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/layoutImage\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"250dp\"\r\n        android:background=\"@drawable/slide8\"\r\n        android:backgroundTint=\"@color/palette_4\"\r\n        android:backgroundTintMode=\"multiply\"\r\n        >\r\n        <TextView\r\n            android:id=\"@+id/loc_name\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginStart=\"21.5dp\"\r\n            android:layout_marginBottom=\"19dp\"\r\n            android:text=\"Monumen Nasional\"\r\n            android:textColor=\"@color/alfa\"\r\n            android:textSize=\"24dp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/loc_name2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"20dp\"\r\n            android:text=\"Monumen Nasional\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"24dp\"\r\n            android:textStyle=\"bold\" />\r\n        <TextView\r\n            android:id=\"@+id/loc_desc\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:visibility=\"invisible\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/loc_address\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:visibility=\"invisible\" />\r\n    </RelativeLayout>\r\n</androidx.cardview.widget.CardView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/list_destination.xml b/app/src/main/res/layout/list_destination.xml
--- a/app/src/main/res/layout/list_destination.xml	(revision 68deba90d0c21645c70e0b79ffb3ee1c55aaf574)
+++ b/app/src/main/res/layout/list_destination.xml	(date 1679127545918)
@@ -50,5 +50,20 @@
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:visibility="invisible" />
+        <TextView
+            android:id="@+id/loc_lat"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:visibility="invisible" />
+        <TextView
+            android:id="@+id/loc_long"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:visibility="invisible" />
+        <TextView
+            android:id="@+id/loc_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:visibility="invisible" />
     </RelativeLayout>
 </androidx.cardview.widget.CardView>
\ No newline at end of file
Index: app/src/main/java/com/binus/pekalongancityguide/AdminHome.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/binus/pekalongancityguide/AdminHome.java b/app/src/main/java/com/binus/pekalongancityguide/AdminHome.java
new file mode 100644
--- /dev/null	(date 1679120635591)
+++ b/app/src/main/java/com/binus/pekalongancityguide/AdminHome.java	(date 1679120635591)
@@ -0,0 +1,14 @@
+package com.binus.pekalongancityguide;
+
+import androidx.appcompat.app.AppCompatActivity;
+
+import android.os.Bundle;
+
+public class AdminHome extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_admin_home);
+    }
+}
\ No newline at end of file
